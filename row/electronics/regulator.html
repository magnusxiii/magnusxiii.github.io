<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Î Î»Î®ÏÎ·Ï‚ ÎŸÎ´Î·Î³ÏŒÏ‚ Power Design Î³Î¹Î± ESP32 & Custom PCB</title>
<style>
body {
    font-family: 'Segoe UI', Arial, sans-serif;
    background: linear-gradient(135deg, #f4f6f8 0%, #e8eef2 100%);
    color: #222;
    line-height: 1.6;
    margin: 0;
    padding: 20px;
}
.container {
    max-width: 1200px;
    margin: 0 auto;
}
h1 {
    color: #003366;
    text-align: center;
    background: linear-gradient(135deg, #0066cc 0%, #003366 100%);
    color: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}
h2 {
    color: #003366;
    border-left: 5px solid #0066cc;
    padding-left: 15px;
    margin-top: 30px;
}
h3 {
    color: #0066cc;
    margin-top: 20px;
}
table {
    border-collapse: collapse;
    width: 100%;
    margin: 20px 0;
    background: #fff;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    border-radius: 6px;
    overflow: hidden;
}
th, td {
    border: 1px solid #ddd;
    padding: 12px;
    text-align: left;
}
th {
    background: linear-gradient(135deg, #0066cc 0%, #0052a3 100%);
    color: white;
    font-weight: bold;
}
tr:nth-child(even) {
    background: #f8f9fa;
}
tr:hover {
    background: #e3f2fd;
}
.section {
    background: #ffffff;
    padding: 25px;
    margin-bottom: 25px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}
.good {
    color: #28a745;
    font-weight: bold;
}
.bad {
    color: #dc3545;
    font-weight: bold;
}
.warning {
    color: #fd7e14;
    font-weight: bold;
}
.note {
    background: #fff3cd;
    padding: 15px;
    border-left: 5px solid #ffc107;
    margin: 15px 0;
    border-radius: 4px;
}
.tip {
    background: #d1ecf1;
    padding: 15px;
    border-left: 5px solid #17a2b8;
    margin: 15px 0;
    border-radius: 4px;
}
.danger {
    background: #f8d7da;
    padding: 15px;
    border-left: 5px solid #dc3545;
    margin: 15px 0;
    border-radius: 4px;
}
code {
    background: #f1f3f5;
    padding: 3px 6px;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    color: #c7254e;
}
pre {
    background: #2d2d2d;
    color: #f8f8f2;
    padding: 20px;
    border-radius: 6px;
    overflow-x: auto;
    font-family: 'Courier New', monospace;
    line-height: 1.4;
}
.calculator {
    background: #e7f3ff;
    padding: 20px;
    border-radius: 8px;
    border: 2px solid #0066cc;
    margin: 20px 0;
}
.formula {
    background: #f8f9fa;
    padding: 15px;
    border-left: 4px solid #0066cc;
    margin: 15px 0;
    font-family: 'Courier New', monospace;
    font-size: 1.1em;
}
ul, ol {
    margin: 10px 0;
    padding-left: 25px;
}
li {
    margin: 8px 0;
}
.component-box {
    display: inline-block;
    background: #fff;
    border: 2px solid #0066cc;
    padding: 10px 15px;
    margin: 5px;
    border-radius: 6px;
    font-weight: bold;
}
.toc {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 30px;
}
.toc a {
    color: #0066cc;
    text-decoration: none;
    display: block;
    padding: 5px 0;
}
.toc a:hover {
    color: #003366;
    text-decoration: underline;
}
</style>
</head>

<body>
<div class="container">

<h1>ğŸ”‹ Î Î»Î®ÏÎ·Ï‚ ÎŸÎ´Î·Î³ÏŒÏ‚ Power Design<br>Î³Î¹Î± ESP32 & Custom PCB</h1>

<div class="section toc">
<h2>ğŸ“‘ Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î±</h2>
<a href="#intro">1. Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® ÏƒÏ„Î± Voltage Regulators</a>
<a href="#ams1117">2. Î“Î¹Î±Ï„Î¯ ÎŸÎ§Î™ AMS1117</a>
<a href="#thermal">3. Î˜ÎµÏÎ¼Î¹ÎºÎ® Î‘Î½Î¬Î»Ï…ÏƒÎ· & Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼Î¿Î¯</a>
<a href="#ldo-selection">4. Î ÏÎ¿Ï„ÎµÎ¹Î½ÏŒÎ¼ÎµÎ½Î± LDO ICs</a>
<a href="#buck-ldo">5. Buck + LDO Î£Ï…Î½Î´Ï…Î±ÏƒÎ¼Î¿Î¯</a>
<a href="#capacitors">6. Î Ï…ÎºÎ½Ï‰Ï„Î­Ï‚: Î•Ï€Î¹Î»Î¿Î³Î® & Î¤Î¿Ï€Î¿Î¸Î­Ï„Î·ÏƒÎ·</a>
<a href="#layout">7. PCB Layout Best Practices</a>
<a href="#testing">8. Testing & ÎœÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚</a>
<a href="#troubleshooting">9. Troubleshooting</a>
<a href="#examples">10. Î ÏÎ±ÎºÏ„Î¹ÎºÎ¬ Î Î±ÏÎ±Î´ÎµÎ¯Î³Î¼Î±Ï„Î± ÎšÏ…ÎºÎ»Ï‰Î¼Î¬Ï„Ï‰Î½</a>
</div>

<!-- ============================================= -->
<div class="section" id="intro">
<h2>1. Î¤Î¹ ÎµÎ¯Î½Î±Î¹ Voltage Regulator (LDO)</h2>
<p>
ÎŸ <b>voltage regulator</b> ÎµÎ¯Î½Î±Î¹ Ï„Î¿ ÎºÏÎºÎ»Ï‰Î¼Î± Ï€Î¿Ï… Î¼ÎµÏ„Î±Ï„ÏÎ­Ï€ÎµÎ¹ Î¼Î¹Î± Î±ÏƒÏ„Î±Î¸Î® Î® Ï…ÏˆÎ·Î»ÏŒÏ„ÎµÏÎ· Ï„Î¬ÏƒÎ· 
(Ï€.Ï‡. 5V, 12V, Î¼Ï€Î±Ï„Î±ÏÎ¯Î± Li-ion 4.2V) ÏƒÎµ Î¼Î¹Î± ÏƒÏ„Î±Î¸ÎµÏÎ® Ï„Î¬ÏƒÎ· (ÏƒÏ…Î½Î®Î¸Ï‰Ï‚ 3.3V) Î³Î¹Î± Î¼Î¹ÎºÏÎ¿ÎµÎ»ÎµÎ³ÎºÏ„Î­Ï‚, 
RF modules ÎºÎ±Î¹ Î±Î½Î±Î»Î¿Î³Î¹ÎºÎ¬ ÎºÏ…ÎºÎ»ÏÎ¼Î±Ï„Î±.
</p>
<p>
Î¤Î± <b>LDO (Low Dropout)</b> regulators ÎµÎ¯Î½Î±Î¹ Î³ÏÎ±Î¼Î¼Î¹ÎºÎ¿Î¯ ÏÏ…Î¸Î¼Î¹ÏƒÏ„Î­Ï‚ Ï„Î¬ÏƒÎ·Ï‚ Ï€Î¿Ï… Ï‡ÏÎµÎ¹Î¬Î¶Î¿Î½Ï„Î±Î¹ 
Ï€Î¿Î»Ï Î¼Î¹ÎºÏÎ® Î´Î¹Î±Ï†Î¿ÏÎ¬ Ï„Î¬ÏƒÎ·Ï‚ (dropout voltage) Î¼ÎµÏ„Î±Î¾Ï ÎµÎ¹ÏƒÏŒÎ´Î¿Ï… ÎºÎ±Î¹ ÎµÎ¾ÏŒÎ´Î¿Ï… Î³Î¹Î± Î½Î± Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î®ÏƒÎ¿Ï…Î½.
</p>

<div class="tip">
ğŸ’¡ <b>Dropout Voltage:</b> Î— ÎµÎ»Î¬Ï‡Î¹ÏƒÏ„Î· Î´Î¹Î±Ï†Î¿ÏÎ¬ Ï„Î¬ÏƒÎ·Ï‚ Vin - Vout Ï€Î¿Ï… Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹ Î¿ regulator 
Î³Î¹Î± Î½Î± Î´Î¹Î±Ï„Î·ÏÎ®ÏƒÎµÎ¹ ÏƒÏ„Î±Î¸ÎµÏÎ® Ï„Î·Î½ Î­Î¾Î¿Î´Î¿. Î“Î¹Î± LDO: 0.2-0.4V, Î³Î¹Î± Ï€Î±Î»Î¹Î¬ ICs (AMS1117): ~1.1V
</div>
</div>

<!-- ============================================= -->
<div class="section" id="ams1117">
<h2>2. Î“Î¹Î±Ï„Î¯ ÎŸÎ§Î™ AMS1117 ÏƒÎµ Custom PCB</h2>

<table>
<tr>
<th>Î§Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÏŒ</th>
<th>AMS1117</th>
<th>Î£ÏÎ³Ï‡ÏÎ¿Î½Î± LDO</th>
<th>Î•Ï€Î¯Î´ÏÎ±ÏƒÎ·</th>
</tr>
<tr>
<td><b>Dropout Voltage</b></td>
<td class="bad">~1.1 - 1.3 V</td>
<td class="good">0.2 â€“ 0.4 V</td>
<td>ÎœÎµÎ³Î±Î»ÏÏ„ÎµÏÎ¿ ÎµÏÏÎ¿Ï‚ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±Ï‚ Î¼Îµ Î¼Ï€Î±Ï„Î±ÏÎ¯Î±</td>
</tr>
<tr>
<td><b>Î˜ÏŒÏÏ…Î²Î¿Ï‚ (Noise)</b></td>
<td class="bad">~100 ÂµVrms</td>
<td class="good">~10-30 ÂµVrms</td>
<td>ÎšÎ±Î¸Î±ÏÏŒÏ„ÎµÏÎ¿ ÏƒÎ®Î¼Î± ÏƒÎµ ADC & RF</td>
</tr>
<tr>
<td><b>PSRR @ 1 kHz</b></td>
<td class="bad">~50 dB</td>
<td class="good">70-80 dB</td>
<td>Î‘Ï€ÏŒÏÏÎ¹ÏˆÎ· Î¸Î¿ÏÏÎ²Î¿Ï… Ï„ÏÎ¿Ï†Î¿Î´Î¿ÏƒÎ¯Î±Ï‚</td>
</tr>
<tr>
<td><b>Transient Response</b></td>
<td class="bad">Î‘ÏÎ³Î® (>100 Âµs)</td>
<td class="good">Î“ÏÎ®Î³Î¿ÏÎ· (<20 Âµs)</td>
<td>Î‘Î½Ï„Î¿Ï‡Î® ÏƒÎµ WiFi/BLE current bursts</td>
</tr>
<tr>
<td><b>Quiescent Current</b></td>
<td class="warning">~5 mA</td>
<td class="good">~50-100 ÂµA</td>
<td>Î£Î·Î¼Î±Î½Ï„Î¹ÎºÏŒ Î³Î¹Î± battery-powered</td>
</tr>
<tr>
<td><b>RF / WiFi</b></td>
<td class="bad">ÎŸÎ§Î™</td>
<td class="good">ÎÎ‘Î™</td>
<td>Î£Ï„Î±Î¸ÎµÏÏŒÏ„Î·Ï„Î± ESP32/ESP8266</td>
</tr>
</table>

<div class="danger">
<b>âš ï¸ Î ÏÎ¿Î²Î»Î®Î¼Î±Ï„Î± Î¼Îµ AMS1117 ÏƒÎµ ESP32:</b>
<ul>
<li>âŒ Î”ÎµÎ½ Î±Î½Ï„Î­Ï‡ÎµÎ¹ Ï„Î± current bursts Ï„Î¿Ï… WiFi/BLE (Î­Ï‰Ï‚ 500mA ÏƒÎµ <10Âµs)</li>
<li>âŒ Î ÏÎ¿ÎºÎ±Î»ÎµÎ¯ brownouts ÎºÎ±Î¹ unexpected resets</li>
<li>âŒ Î ÏÎ¿ÏƒÎ¸Î­Ï„ÎµÎ¹ Î¸ÏŒÏÏ…Î²Î¿ ÏƒÎµ ADC readings (Â±50-100 counts ÏƒÎµ 12-bit ADC)</li>
<li>âŒ Î£Ï€Î±Ï„Î±Î»Î¬ ÎµÎ½Î­ÏÎ³ÎµÎ¹Î± Ï‰Ï‚ Î¸ÎµÏÎ¼ÏŒÏ„Î·Ï„Î± â†’ overheating ÏƒÎµ SOT-223</li>
<li>âŒ Î§Î±Î¼Î·Î»ÏŒ PSRR â†’ RF instability</li>
</ul>
</div>

<p>
<b>Î ÏŒÏ„Îµ ÎµÎ¯Î½Î±Î¹ Î±Ï€Î¿Î´ÎµÎºÏ„ÏŒÏ‚ Î¿ AMS1117:</b>
</p>
<ul>
<li>âœ… Arduino Uno/Nano (Ï‡Ï‰ÏÎ¯Ï‚ WiFi/RF)</li>
<li>âœ… Î§Î±Î¼Î·Î»ÏŒ ÏÎµÏÎ¼Î± (<100mA)</li>
<li>âœ… Prototyping (ÏŒÏ‡Î¹ Ï„ÎµÎ»Î¹ÎºÏŒ Ï€ÏÎ¿ÏŠÏŒÎ½)</li>
<li>âœ… ÎŸÎ¸ÏŒÎ½ÎµÏ‚, sensors Ï‡Ï‰ÏÎ¯Ï‚ ÎµÏ…Î±Î¯ÏƒÎ¸Î·Ï„Î± Î±Î½Î±Î»Î¿Î³Î¹ÎºÎ¬</li>
</ul>
</div>

<!-- ============================================= -->
<div class="section" id="thermal">
<h2>3. Î˜ÎµÏÎ¼Î¹ÎºÎ® Î‘Î½Î¬Î»Ï…ÏƒÎ· & Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼Î¿Î¯</h2>

<h3>Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î˜ÎµÏÎ¼ÏŒÏ„Î·Ï„Î±Ï‚</h3>
<div class="formula">
P<sub>dissipation</sub> = (V<sub>in</sub> - V<sub>out</sub>) Ã— I<sub>load</sub>
</div>

<div class="calculator">
<h3>ğŸ“Š Î Î±ÏÎ±Î´ÎµÎ¯Î³Î¼Î±Ï„Î± Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏÎ½ Î³Î¹Î± ESP32 (Max 420mA WiFi burst)</h3>

<table>
<tr>
<th>Î£ÎµÎ½Î¬ÏÎ¹Î¿</th>
<th>V<sub>in</sub></th>
<th>V<sub>out</sub></th>
<th>I<sub>load</sub></th>
<th>P (Watts)</th>
<th>Î‘Î¾Î¹Î¿Î»ÏŒÎ³Î·ÏƒÎ·</th>
</tr>
<tr>
<td>AMS1117 Î±Ï€ÏŒ USB</td>
<td>5.0 V</td>
<td>3.3 V</td>
<td>0.42 A</td>
<td class="bad">0.714 W</td>
<td class="bad">ÎšÎ™ÎÎ”Î¥ÎÎŸÎ£! SOT-223 overheats</td>
</tr>
<tr>
<td>AMS1117 Î±Ï€ÏŒ Li-ion</td>
<td>4.2 V</td>
<td>3.3 V</td>
<td>0.42 A</td>
<td class="warning">0.378 W</td>
<td class="warning">ÎŸÏÎ¹Î±ÎºÏŒ, Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹ heatsink</td>
</tr>
<tr>
<td>Buck + LDO</td>
<td>3.6 V</td>
<td>3.3 V</td>
<td>0.42 A</td>
<td class="good">0.126 W</td>
<td class="good">Î™Î”Î‘ÎÎ™ÎšÎŸ! Î§Î±Î¼Î·Î»Î® Î¸ÎµÏÎ¼ÏŒÏ„Î·Ï„Î±</td>
</tr>
<tr>
<td>Î£ÏÎ³Ï‡ÏÎ¿Î½Î¿ LDO Î±Ï€ÏŒ Li-ion</td>
<td>4.2 V</td>
<td>3.3 V</td>
<td>0.42 A</td>
<td class="warning">0.378 W</td>
<td class="good">OK Î¼Îµ thermal vias</td>
</tr>
</table>
</div>

<h3>Î˜ÎµÏÎ¼Î¹ÎºÎ® Î‘Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ· (Thermal Resistance)</h3>
<div class="formula">
Î”T = P Ã— Î¸<sub>JA</sub>
<br>
T<sub>junction</sub> = T<sub>ambient</sub> + Î”T
</div>

<p><b>Î¤Ï…Ï€Î¹ÎºÎ­Ï‚ Ï„Î¹Î¼Î­Ï‚ Î¸<sub>JA</sub>:</b></p>
<ul>
<li>SOT-23-5: <b>~200-250 Â°C/W</b> (Ï‡Ï‰ÏÎ¯Ï‚ copper pour)</li>
<li>SOT-23-5: <b>~100-150 Â°C/W</b> (Î¼Îµ copper pour & thermal vias)</li>
<li>SOT-89: <b>~80-120 Â°C/W</b></li>
<li>SOT-223: <b>~60-80 Â°C/W</b></li>
</ul>

<div class="note">
<b>ğŸ’¡ Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±:</b> SOT-23 LDO Î¼Îµ 0.7W dissipation ÎºÎ±Î¹ Î¸<sub>JA</sub>=200Â°C/W:
<br>Î”T = 0.7W Ã— 200Â°C/W = 140Â°C
<br>Î‘Î½ T<sub>ambient</sub>=25Â°C â†’ T<sub>junction</sub>=165Â°C âš ï¸ Î¥Î Î•Î¡Î˜Î•Î¡ÎœÎ‘ÎÎ£Î—!
<br><br>
<b>ÎœÎµ Buck+LDO (0.126W):</b>
<br>Î”T = 0.126W Ã— 200Â°C/W = 25.2Â°C
<br>T<sub>junction</sub>=50.2Â°C âœ… Î‘Î£Î¦Î‘Î›Î•Î£!
</div>
</div>

<!-- ============================================= -->
<div class="section" id="ldo-selection">
<h2>4. Î ÏÎ¿Ï„ÎµÎ¹Î½ÏŒÎ¼ÎµÎ½Î± LDO ICs Î³Î¹Î± ESP32 & RF</h2>

<table>
<tr>
<th>Regulator</th>
<th>Max Î¡ÎµÏÎ¼Î±</th>
<th>Dropout</th>
<th>Quiescent</th>
<th>Package</th>
<th>PSRR</th>
<th>Noise</th>
<th>Î£Ï‡ÏŒÎ»Î¹Î¿</th>
</tr>

<tr>
<td><b>ME6211</b></td>
<td>500 mA</td>
<td>0.3 V</td>
<td>90 ÂµA</td>
<td>SOT-23-5</td>
<td>70 dB</td>
<td>30 ÂµVrms</td>
<td class="good">Î Î¿Î»Ï ÏƒÏ…Ï‡Î½ÏŒÏ‚, Ï†Î¸Î·Î½ÏŒÏ‚ (~$0.10), best value</td>
</tr>

<tr>
<td><b>MIC5504</b></td>
<td>300 mA</td>
<td>0.2 V</td>
<td>45 ÂµA</td>
<td>SOT-23-5</td>
<td>75 dB</td>
<td>20 ÂµVrms</td>
<td class="good">Ultra-low noise, ÎµÎ¾Î±Î¹ÏÎµÏ„Î¹ÎºÏŒÏ‚ Î³Î¹Î± RF & ADC</td>
</tr>

<tr>
<td><b>TLV700</b></td>
<td>300 mA</td>
<td>0.4 V</td>
<td>55 ÂµA</td>
<td>SOT-23-5<br>SOT-89</td>
<td>68 dB</td>
<td>25 ÂµVrms</td>
<td class="good">Texas Instruments, industrial grade</td>
</tr>

<tr>
<td><b>RT9080</b></td>
<td>600 mA</td>
<td>0.25 V</td>
<td>80 ÂµA</td>
<td>SOT-23-5</td>
<td>72 dB</td>
<td>28 ÂµVrms</td>
<td class="good">High current, Î¹Î´Î±Î½Î¹ÎºÏŒÏ‚ Î³Î¹Î± WiFi bursts</td>
</tr>

<tr>
<td><b>XC6220</b></td>
<td>1000 mA</td>
<td>0.18 V</td>
<td>50 ÂµA</td>
<td>SOT-89</td>
<td>70 dB</td>
<td>30 ÂµVrms</td>
<td class="good">Ultra-high current Î³Î¹Î± demanding apps</td>
</tr>

<tr>
<td><b>AP2112</b></td>
<td>600 mA</td>
<td>0.25 V</td>
<td>55 ÂµA</td>
<td>SOT-23-5</td>
<td>75 dB</td>
<td>20 ÂµVrms</td>
<td class="good">Excellent PSRR, fast transient</td>
</tr>
</table>

<h3>ğŸ¯ Î ÏÏ‚ Î½Î± ÎµÏ€Î¹Î»Î­Î¾ÎµÎ¹Ï‚:</h3>
<ul>
<li><b>Budget project:</b> ME6211 (best price/performance)</li>
<li><b>Ultra-clean ADC readings:</b> MIC5504</li>
<li><b>High WiFi activity:</b> RT9080 Î® AP2112</li>
<li><b>Industrial/automotive:</b> TLV700</li>
<li><b>High current (>400mA continuous):</b> XC6220</li>
</ul>
</div>

<!-- ============================================= -->
<div class="section" id="buck-ldo">
<h2>5. Buck + LDO Î£Ï…Î½Î´Ï…Î±ÏƒÎ¼Î¿Î¯ (Î’Î­Î»Ï„Î¹ÏƒÏ„Î· Î›ÏÏƒÎ·)</h2>

<p>
Î— <b>ÎºÎ±Î»ÏÏ„ÎµÏÎ· Ï€ÏÎ±ÎºÏ„Î¹ÎºÎ®</b> Î³Î¹Î± ESP32/ESP8266 Î¼Îµ Ï„ÏÎ¿Ï†Î¿Î´Î¿ÏƒÎ¯Î± >5V Î® battery:
</p>
<div class="tip">
<b>ğŸ”Œ Î‘ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ® 2-Stage:</b>
<ol>
<li><b>Buck Converter:</b> Î¥ÏˆÎ·Î»Î® Î±Ï€ÏŒÎ´Î¿ÏƒÎ· (85-95%) â†’ Î¼ÎµÏ„Î±Ï„ÏÎ¿Ï€Î® Vin ÏƒÎµ 3.6V</li>
<li><b>LDO:</b> ÎšÎ±Î¸Î±ÏÏŒ, Ï‡Î±Î¼Î·Î»Î¿Ï Î¸Î¿ÏÏÎ²Î¿Ï… voltage â†’ 3.3V Î³Î¹Î± MCU/RF</li>
</ol>
Î‘Ï€Î¿Ï„Î­Î»ÎµÏƒÎ¼Î±: <b>Î§Î±Î¼Î·Î»Î® Î¸ÎµÏÎ¼ÏŒÏ„Î·Ï„Î± + ÎšÎ±Î¸Î±ÏÏŒ RF + Î¥ÏˆÎ·Î»Î® Î±Ï€ÏŒÎ´Î¿ÏƒÎ·</b>
</div>

<h3>Î ÏÎ¿Ï„ÎµÎ¹Î½ÏŒÎ¼ÎµÎ½Î¿Î¹ Î£Ï…Î½Î´Ï…Î±ÏƒÎ¼Î¿Î¯</h3>

<table>
<tr>
<th>Buck IC</th>
<th>V<sub>out</sub></th>
<th>I<sub>max</sub></th>
<th>LDO IC</th>
<th>V<sub>out</sub></th>
<th>ÎšÏŒÏƒÏ„Î¿Ï‚</th>
<th>Î§ÏÎ®ÏƒÎ·</th>
</tr>

<tr>
<td><b>MP2315</b></td>
<td>3.6 V</td>
<td>3 A</td>
<td>RT9080</td>
<td>3.3 V</td>
<td>~$1.50</td>
<td>ESP32 + TFT + WiFi heavy use</td>
</tr>

<tr>
<td><b>TPS62177</b></td>
<td>3.6 V</td>
<td>500 mA</td>
<td>MIC5504</td>
<td>3.3 V</td>
<td>~$2.00</td>
<td>Ultra-clean RF, precision ADC</td>
</tr>

<tr>
<td><b>LMR62014</b></td>
<td>3.6 V</td>
<td>1.4 A</td>
<td>ME6211</td>
<td>3.3 V</td>
<td>~$1.00</td>
<td>Budget-friendly, good performance</td>
</tr>

<tr>
<td><b>XL1509</b></td>
<td>3.6 V</td>
<td>2 A</td>
<td>AP2112</td>
<td>3.3 V</td>
<td>~$0.80</td>
<td>Cost-effective, multiple devices</td>
</tr>

<tr>
<td><b>AOZ1282</b></td>
<td>3.6 V</td>
<td>2 A</td>
<td>TLV700</td>
<td>3.3 V</td>
<td>~$1.80</td>
<td>Industrial applications</td>
</tr>
</table>

<h3>ğŸ“ Î”Î¹Î¬Î³ÏÎ±Î¼Î¼Î± Î£Ï…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚</h3>
<pre>
   +5V-12V Vin (USB / Battery / Wall adapter)
      â”‚
      â”‚ (High voltage, noisy)
      â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Buck         â”‚  Efficiency: 85-95%
   â”‚ Converter    â”‚  5-12V â†’ 3.6V @ up to 3A
   â”‚ (MP2315 etc) â”‚  
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚ 3.6V (efficient, still has switching noise)
      â”‚
      â”œâ”€â”€â†’ 22ÂµF Bulk capacitor
      â”‚
      â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ LDO          â”‚  Ultra-clean output
   â”‚ (MIC5504 etc)â”‚  3.6V â†’ 3.3V
   â”‚              â”‚  Filters Buck noise
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚ 3.3V (clean, low-noise, RF-safe)
      â”‚
      â”œâ”€â”€â†’ 10ÂµF Bulk cap
      â”œâ”€â”€â†’ 100nF decoupling (Ã—4-5 near ESP32 pins)
      â”‚
      â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  ESP32       â”‚
   â”‚  WiFi/BLE    â”‚
   â”‚  + TFT/OLED  â”‚
   â”‚  + Sensors   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

<b>Î Î»ÎµÎ¿Î½ÎµÎºÏ„Î®Î¼Î±Ï„Î±:</b>
âœ… Î˜ÎµÏÎ¼ÏŒÏ„Î·Ï„Î± LDO: ~0.13W (vs 0.7W Î¼Îµ 5V direct)
âœ… Î£Ï…Î½Î¿Î»Î¹ÎºÎ® Î±Ï€ÏŒÎ´Î¿ÏƒÎ·: ~80-90% (vs ~50% Î¼Îµ LDO Î¼ÏŒÎ½Î¿)
âœ… ÎšÎ±Î¸Î±ÏÏŒ RF signal - Ï‡Ï‰ÏÎ¯Ï‚ switching noise ÏƒÏ„Î¿ 3.3V rail
âœ… Stable voltage ÎºÎ±Ï„Î¬ Ï„Î· Î´Î¹Î¬ÏÎºÎµÎ¹Î± WiFi bursts
</pre>

<div class="danger">
<b>âš ï¸ ÎœÎ—Î ÎºÎ¬Î½ÎµÎ¹Ï‚ Î±Ï…Ï„Î¬ Ï„Î± Î»Î¬Î¸Î·:</b>
<ul>
<li>âŒ Buck converter ÎºÎ±Ï„ÎµÏ…Î¸ÎµÎ¯Î±Î½ ÏƒÏ„Î¿ ESP32 (switching noise â†’ RF problems)</li>
<li>âŒ LDO 5Vâ†’3.3V Î¼Îµ >400mA load (Ï…Ï€ÎµÏÎ¸Î­ÏÎ¼Î±Î½ÏƒÎ·)</li>
<li>âŒ Shared power rail Î³Î¹Î± RF ÎºÎ±Î¹ digital I/O (crosstalk)</li>
</ul>
</div>
</div>

<!-- ============================================= -->
<div class="section" id="capacitors">
<h2>6. Î Ï…ÎºÎ½Ï‰Ï„Î­Ï‚: Î•Ï€Î¹Î»Î¿Î³Î® & Î¤Î¿Ï€Î¿Î¸Î­Ï„Î·ÏƒÎ·</h2>

<h3>Î¤ÏÏ€Î¿Î¹ Î Ï…ÎºÎ½Ï‰Ï„ÏÎ½</h3>

<table>
<tr>
<th>Î¤ÏÏ€Î¿Ï‚</th>
<th>Î§Ï‰ÏÎ·Ï„Î¹ÎºÏŒÏ„Î·Ï„Î±</th>
<th>ESR</th>
<th>Î§ÏÎ®ÏƒÎ·</th>
<th>Î˜Î­ÏƒÎ·</th>
</tr>
<tr>
<td><b>ÎšÎµÏÎ±Î¼Î¹ÎºÏŒÏ‚ X7R</b></td>
<td>100 nF - 1 ÂµF</td>
<td>~5-20 mÎ©</td>
<td>Decoupling</td>
<td>ÎšÎ¿Î»Î»Î·Ï„Î¬ ÏƒÏ„Î± VDD pins (â‰¤5mm)</td>
</tr>
<tr>
<td><b>ÎšÎµÏÎ±Î¼Î¹ÎºÏŒÏ‚ X5R</b></td>
<td>10 ÂµF - 22 ÂµF</td>
<td>~10-50 mÎ©</td>
<td>Bulk capacitor</td>
<td>ÎšÎ¿Î½Ï„Î¬ ÏƒÏ„Î¿ LDO output (â‰¤10mm)</td>
</tr>
<tr>
<td><b>Tantalum</b></td>
<td>10 ÂµF - 47 ÂµF</td>
<td>~100-500 mÎ©</td>
<td>Bulk (low freq)</td>
<td>Buck converter input</td>
</tr>
<tr>
<td><b>Î—Î»ÎµÎºÏ„ÏÎ¿Î»Ï…Ï„Î¹ÎºÏŒÏ‚</b></td>
<td>100 ÂµF - 1000 ÂµF</td>
<td>~100 mÎ© - 2Î©</td>
<td>Reservoir</td>
<td>Î£Ï„Î·Î½ ÎµÎ¯ÏƒÎ¿Î´Î¿ Ï„ÏÎ¿Ï†Î¿Î´Î¿ÏƒÎ¯Î±Ï‚</td>
</tr>
</table>

<h3>ğŸ“ Î£Ï„ÏÎ±Ï„Î·Î³Î¹ÎºÎ® Î¤Î¿Ï€Î¿Î¸Î­Ï„Î·ÏƒÎ·Ï‚</h3>

<pre>
<b>Î£ÎµÎ¹ÏÎ¬ Î Ï…ÎºÎ½Ï‰Ï„ÏÎ½ Î±Ï€ÏŒ Vin Ï€ÏÎ¿Ï‚ ESP32:</b>

[Vin] â†’ 100ÂµF Electrolytic â†’ [Buck] â†’ 22ÂµF X5R â†’ [LDO] â†’ 10ÂµF X5R â†’ [ESP32 bulk]
                                                              â†“
                                                    4Ã— 100nF X7R (ÎºÎ¬Î¸Îµ VDD pin)
</pre>

<div class="tip">
<b>ğŸ’¡ Golden Rules Î³Î¹Î± Decoupling:</b>
<ol>
<li><b>100 nF ÎºÎµÏÎ±Î¼Î¹ÎºÏŒÏ‚:</b> Î£Îµ ÎšÎ‘Î˜Î• VDD pin Ï„Î¿Ï… ESP32 (minimum 4 capacitors)</li>
<li><b>10-22 ÂµF:</b> ÎˆÎ½Î±Ï‚ ÎºÎ¿Î½Ï„Î¬ ÏƒÏ„Î¿ ESP32 Î³Î¹Î± bulk energy storage</li>
<li><b>Î‘Ï€ÏŒÏƒÏ„Î±ÏƒÎ·:</b> Decoupling caps â‰¤5mm Î±Ï€ÏŒ Ï„Î¿ pin, bulk â‰¤15mm</li>
<li><b>Vias:</b> Ground vias ÎºÎ¿Î½Ï„Î¬ ÏƒÏ„Î± pads Ï„Ï‰Î½ Ï€Ï…ÎºÎ½Ï‰Ï„ÏÎ½</li>
<li><b>Î”Î¹Î­Î»ÎµÏ…ÏƒÎ·:</b> ÎšÎ¿Î½Ï„Î¬ trace Vcc â†’ Cap â†’ GND via â†’ Ground plane</li>
</ol>
</div>

<h3>ESR & Frequency Response</h3>
<p>
Î¤Î¿ <b>ESR (Equivalent Series Resistance)</b> ÎµÏ€Î·ÏÎµÎ¬Î¶ÎµÎ¹ Ï„Î·Î½ Î¹ÎºÎ±Î½ÏŒÏ„Î·Ï„Î± Ï„Î¿Ï… Ï€Ï…ÎºÎ½Ï‰Ï„Î® 
Î½Î± Î±Ï€Î¿ÏÏÎ¿Ï†Î¬ Î³ÏÎ®Î³Î¿ÏÎµÏ‚ Î¼ÎµÏ„Î±Î²Î¿Î»Î­Ï‚ ÏÎµÏÎ¼Î±Ï„Î¿Ï‚:
</p>
<ul>
<li><b>X7R Ceramic:</b> Low ESR â†’ ÎµÎ¾Î±Î¹ÏÎµÏ„Î¹ÎºÏŒ Î³Î¹Î± high-frequency noise (>1 MHz)</li>
<li><b>X5R Ceramic:</b> Slightly higher ESR â†’ ÎºÎ±Î»ÏŒ Î³Î¹Î± mid-frequency (100 kHz - 1 MHz)</li>
<li><b>Electrolytic:</b> High ESR â†’ Î¼ÏŒÎ½Î¿ Î³Î¹Î± low-frequency bulk (<100 kHz)</li>
</ul>

<div class="note">
<b>Î“Î¹Î±Ï„Î¯ Ï€Î¿Î»Î»Î±Ï€Î»Î¿Î¯ Ï€Ï…ÎºÎ½Ï‰Ï„Î­Ï‚;</b>
<br>Î¤Î¿ ESP32 WiFi burst Î­Ï‡ÎµÎ¹ ÏƒÏ…Ï‡Î½ÏŒÏ„Î·Ï„ÎµÏ‚ Î±Ï€ÏŒ DC Î­Ï‰Ï‚ >10 MHz. ÎšÎ¬Î¸Îµ Ï€Ï…ÎºÎ½Ï‰Ï„Î®Ï‚ 
"Î²Î»Î­Ï€ÎµÎ¹" Î´Î¹Î±Ï†Î¿ÏÎµÏ„Î¹ÎºÏŒ ÎµÏÏÎ¿Ï‚ ÏƒÏ…Ï‡Î½Î¿Ï„Î®Ï„Ï‰Î½ Î»ÏŒÎ³Ï‰ ESR & ESL (inductance). 
Î£Ï…Î½Î´Ï…Î±ÏƒÎ¼ÏŒÏ‚ Ï€Ï…ÎºÎ½Ï‰Ï„ÏÎ½ = Ï€Î»Î®ÏÎ·Ï‚ ÎºÎ¬Î»Ï…ÏˆÎ· Ï†Î¬ÏƒÎ¼Î±Ï„Î¿Ï‚.
</div>
</div>

<!-- ============================================= -->
<div class="section" id="layout">
<h2>7. PCB Layout Best Practices</h2>

<h3>ğŸ”¥ Thermal Management</h3>

<h4>Copper Pour</h4>
<ul>
<li>Î•Î½Î¹Î±Î¯Î¿ <b>ground plane</b> ÏƒÏ„Î¿ bottom layer (Î® internal layer ÏƒÎµ 4-layer PCB)</li>
<li><b>Copper pour</b> Î³ÏÏÏ‰ Î±Ï€ÏŒ LDO, ESP32 ÎºÎ±Î¹ RF section (top layer)</li>
<li>Î£ÏÎ½Î´ÎµÏƒÎ· top/bottom copper Î¼Îµ <b>thermal vias</b></li>
<li>Î•Î»Î¬Ï‡Î¹ÏƒÏ„Î¿ 35 Âµm copper thickness (1 oz), Ï€ÏÎ¿Ï„Î¹Î¼ÏŒÏ„ÎµÏÎ¿ 70 Âµm (2 oz)</li>
</ul>

<h4>Thermal Vias</h4>
<div class="formula">
Thermal Via Array:
- Î”Î¹Î¬Î¼ÎµÏ„ÏÎ¿Ï‚: 0.3 - 0.4 mm
- Pitch: 0.8 - 1.0 mm
- Î Î»Î®Î¸Î¿Ï‚: 6-9 vias ÎºÎ¬Ï„Ï‰ Î±Ï€ÏŒ Ï„Î¿ thermal pad Ï„Î¿Ï… LDO
- Î£ÏÎ½Î´ÎµÏƒÎ·: Top copper pour â†’ Bottom ground plane
</div>

<pre>
<b>Layout Example - LDO thermal pad:</b>

    TOP VIEW:               CROSS-SECTION:

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            Top Layer: â•â•â•â•â•â•â•â•â•â•â•
    â”‚  LDO    â”‚                          â•‘ via
    â”‚ SOT-23  â”‚            PCB Core:     â•‘
    â”‚         â”‚                          â•‘
    â”‚  [GND]  â”‚            Bottom:  â•â•â•â•â•â•©â•â•â•â•â•â•â•â•
    â”‚ â€¢  â€¢  â€¢ â”‚                     (ground plane)
    â”‚  â€¢   â€¢  â”‚
    â”‚ â€¢  â€¢  â€¢ â”‚            Heat flows down through
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            vias to large copper area

    â€¢ = thermal via (0.3mm)
</pre>

<h3>âš¡ Power Routing</h3>

<table>
<tr>
<th>Element</th>
<th>Trace Width</th>
<th>Guideline</th>
</tr>
<tr>
<td>Buck input (Vin)</td>
<td>â‰¥1.0 mm</td>
<td>High current, minimize resistance</td>
</tr>
<tr>
<td>Buck output â†’ LDO</td>
<td>â‰¥0.8 mm</td>
<td>Medium current, keep short</td>
</tr>
<tr>
<td>LDO output â†’ ESP32</td>
<td>â‰¥0.6 mm</td>
<td>Short & direct, avoid corners</td>
</tr>
<tr>
<td>Ground returns</td>
<td>â‰¥1.0 mm or plane</td>
<td>Low impedance path critical</td>
</tr>
</table>

<div class="danger">
<b>âŒ ÎšÎ¿Î¹Î½Î¬ Î›Î¬Î¸Î· Layout:</b>
<ul>
<li>Î›ÎµÏ€Ï„Î­Ï‚ Î³ÏÎ±Î¼Î¼Î­Ï‚ Ï„ÏÎ¿Ï†Î¿Î´Î¿ÏƒÎ¯Î±Ï‚ (<0.3mm) â†’ voltage drop</li>
<li>ÎœÎ±ÎºÏÎ¹Î­Ï‚ traces Î¼ÎµÏ„Î±Î¾Ï LDO ÎºÎ±Î¹ decoupling caps â†’ inductance</li>
<li>Ground loops â†’ EMI & noise</li>
<li>ÎœÎ¿Î¹ÏÎ±ÏƒÎ¼Î­Î½Î¿ ground Î³Î¹Î± analog & digital â†’ crosstalk</li>
<li>Buck converter Î´Î¯Ï€Î»Î± ÏƒÎµ RF antenna â†’ interference</li>
</ul>
</div>

<h3>ğŸ“¡ RF Section Isolation</h3>

<ul>
<li><b>Separate power rail:</b> ÎÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„ÏŒ LDO Î³Î¹Î± RF (optional, Î³Î¹Î± ultra-critical apps)</li>
<li><b>Guard ring:</b> Grounded copper pour Î³ÏÏÏ‰ Î±Ï€ÏŒ antenna</li>
<li><b>Keep-out zone:</b> No traces ÎºÎ¬Ï„Ï‰ Î±Ï€ÏŒ antenna (â‰¥5mm clearance)</li>
<li><b>Antenna placement:</b> Î£Ï„Î·Î½ Î¬ÎºÏÎ· Ï„Î¿Ï… PCB, Î¼Î±ÎºÏÎ¹Î¬ Î±Ï€ÏŒ Buck/switching ICs</li>
</ul>

<h3>ğŸ¨ Layer Stackup (4-layer PCB - recommended)</h3>

<pre>
Layer 1 (Top):     Signal + Components + Local copper pour
Layer 2 (Inner):   Ground Plane (continuous)
Layer 3 (Inner):   Power Plane (3.3V + 3.6V regions)
Layer 4 (Bottom):  Signal + Ground pour

<b>Î Î»ÎµÎ¿Î½ÎµÎºÏ„Î®Î¼Î±Ï„Î±:</b>
âœ… Excellent EMI performance
âœ… Low impedance power distribution
âœ… Better thermal dissipation
âœ… Controlled impedance Î³Î¹Î± RF traces (50Î©)
</pre>

<div class="tip">
<b>ğŸ’¡ Budget Alternative (2-layer):</b>
<br>- Top: Components + signals + power traces
<br>- Bottom: Maximum ground plane coverage (â‰¥70%)
<br>- Stitching vias ÎºÎ¬Î¸Îµ 5-10mm Î³Î¹Î± low-impedance ground
</div>
</div>

<!-- ============================================= -->
<div class="section" id="testing">
<h2>8. Testing & ÎœÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚</h2>

<h3>ğŸ”¬ Î’Î±ÏƒÎ¹ÎºÎ­Ï‚ ÎœÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚</h3>

<h4>1. Voltage Ripple (Oscilloscope)</h4>
<div class="formula">
Setup: AC coupling, 20 MHz BW limit ON, probe tip compensation
Measurement: Peak-to-peak voltage @ 3.3V rail ÎºÎ±Ï„Î¬ WiFi TX
</div>

<table>
<tr>
<th>Î£ÎµÎ½Î¬ÏÎ¹Î¿</th>
<th>Acceptable Ripple</th>
<th>Warning</th>
<th>Critical</th>
</tr>
<tr>
<td>ESP32 idle</td>
<td><10 mV<sub>pp</sub></td>
<td>10-20 mV<sub>pp</sub></td>
<td>>20 mV<sub>pp</sub></td>
</tr>
<tr>
<td>WiFi TX burst</td>
<td><50 mV<sub>pp</sub></td>
<td>50-100 mV<sub>pp</sub></td>
<td>>100 mV<sub>pp</sub></td>
</tr>
<tr>
<td>ADC rail</td>
<td><5 mV<sub>pp</sub></td>
<td>5-10 mV<sub>pp</sub></td>
<td>>10 mV<sub>pp</sub></td>
</tr>
</table>

<h4>2. Voltage Drop Test</h4>
<p>ÎœÎµÏ„ÏÎ®ÏƒÏ„Îµ Ï„Î¬ÏƒÎ· ÏƒÏ„Î± ÏƒÎ·Î¼ÎµÎ¯Î±:</p>
<ul>
<li><b>LDO output pin</b></li>
<li><b>ESP32 VDD pin</b></li>
<li><b>Î”Î¹Î±Ï†Î¿ÏÎ¬:</b> Î”ÎµÎ½ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Ï…Ï€ÎµÏÎ²Î±Î¯Î½ÎµÎ¹ Ï„Î± <b>50 mV</b> under load</li>
</ul>

<h4>3. Temperature Test</h4>
<pre>
Test procedure:
1. Î•Î½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· WiFi continuous TX (test mode)
2. ÎœÎ­Ï„ÏÎ·ÏƒÎ· Î¸ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î±Ï‚ Î¼Îµ IR Î¸ÎµÏÎ¼ÏŒÎ¼ÎµÏ„ÏÎ¿ Î® thermocouple
3. Î§ÏÏŒÎ½Î¿Ï‚: 15-30 Î»ÎµÏ€Ï„Î¬

<b>Î‘Ï€Î¿Î´ÎµÎºÏ„Î­Ï‚ Î¸ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯ÎµÏ‚:</b>
âœ… LDO: <70Â°C (ambient 25Â°C)
âœ… ESP32: <60Â°C
âš ï¸  LDO: 70-85Â°C â†’ Ï€ÏÏŒÏƒÎ¸ÎµÏƒÎµ thermal vias
âŒ LDO: >85Â°C â†’ Î±Î½Î±ÏƒÏ‡ÎµÎ´Î¹Î±ÏƒÎ¼ÏŒÏ‚ (Buck + LDO)
</pre>

<h4>4. Current Measurement</h4>
<div class="formula">
INA219/INA226 module: High-side current sense
Î‰: DMM ÏƒÎµ ÏƒÎµÎ¹ÏÎ¬ (Î³Î¹Î± DC average Î¼ÏŒÎ½Î¿)
</div>

<table>
<tr>
<th>Mode</th>
<th>Typical Current</th>
<th>Peak Current</th>
</tr>
<tr>
<td>Deep Sleep</td>
<td>10-150 ÂµA</td>
<td>-</td>
</tr>
<tr>
<td>Light Sleep</td>
<td>0.8-1.2 mA</td>
<td>-</td>
</tr>
<tr>
<td>Idle (WiFi off)</td>
<td>30-50 mA</td>
<td>-</td>
</tr>
<tr>
<td>WiFi connected</td>
<td>80-120 mA</td>
<td>200-250 mA</td>
</tr>
<tr>
<td>WiFi TX</td>
<td>120-180 mA</td>
<td>350-420 mA</td>
</tr>
</table>

<h3>ğŸ“Š Test Code Î³Î¹Î± ESP32</h3>

<pre>
<b>// WiFi Stress Test</b>
#include &lt;WiFi.h&gt;

void setup() {
  Serial.begin(115200);
  WiFi.mode(WIFI_STA);
  WiFi.begin("SSID", "password");

  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println("
WiFi connected");
}

void loop() {
  // Continuous WiFi traffic to stress power supply
  WiFi.ping("8.8.8.8");

  // Read ADC to check for noise
  int adc = analogRead(34);
  Serial.printf("ADC: %d, RSSI: %d dBm
", adc, WiFi.RSSI());

  delay(100);
}

<b>// Brownout Detection Test</b>
#include "esp_system.h"

void setup() {
  Serial.begin(115200);

  esp_reset_reason_t reason = esp_reset_reason();

  if (reason == ESP_RST_BROWNOUT) {
    Serial.println("âš ï¸ BROWNOUT DETECTED!");
  }
}
</pre>
</div>

<!-- ============================================= -->
<div class="section" id="troubleshooting">
<h2>9. Troubleshooting Common Issues</h2>

<table>
<tr>
<th>Î ÏÏŒÎ²Î»Î·Î¼Î±</th>
<th>Î Î¹Î¸Î±Î½Î® Î‘Î¹Ï„Î¯Î±</th>
<th>Î›ÏÏƒÎ·</th>
</tr>

<tr>
<td><b>ESP32 reset ÎºÎ±Ï„Î¬ WiFi TX</b></td>
<td>
- Voltage drop > 200mV<br>
- Insufficient capacitance<br>
- High dropout LDO
</td>
<td>
âœ… Î ÏÏŒÏƒÎ¸ÎµÏƒÎµ 100ÂµF bulk cap<br>
âœ… Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¯Î·ÏƒÎµ low-dropout LDO<br>
âœ… Î•Î»Î­Î³Î¾Îµ trace resistance
</td>
</tr>

<tr>
<td><b>Brownout detector trigger</b></td>
<td>
- LDO can't supply peak current<br>
- Long power traces<br>
- Poor decoupling
</td>
<td>
âœ… Upgrade ÏƒÎµ higher current LDO<br>
âœ… Î ÏÏŒÏƒÎ¸ÎµÏƒÎµ 4Ã— 100nF decoupling<br>
âœ… Buck + LDO architecture
</td>
</tr>

<tr>
<td><b>ADC readings noisy</b></td>
<td>
- Buck switching noise<br>
- Shared ground with digital<br>
- No filtering
</td>
<td>
âœ… LDO post-regulator Î¼ÎµÏ„Î¬ Ï„Î¿ Buck<br>
âœ… Separate AGND / DGND<br>
âœ… RC filter ÏƒÏ„Î¿ ADC input
</td>
</tr>

<tr>
<td><b>WiFi Î±Ï€Î¿ÏƒÏ…Î½Î´Î­ÏƒÎµÎ¹Ï‚</b></td>
<td>
- Voltage ripple > 100mV<br>
- RF noise from Buck<br>
- Weak signal + unstable power
</td>
<td>
âœ… ÎšÎ±Î»ÏÏ„ÎµÏÎ¿ bulk capacitor<br>
âœ… LDO filtering<br>
âœ… Antenna placement check
</td>
</tr>

<tr>
<td><b>LDO Ï…Ï€ÎµÏÎ¸ÎµÏÎ¼Î±Î¯Î½ÎµÏ„Î±Î¹</b></td>
<td>
- Dropout voltage Ï€Î¿Î»Ï Î¼ÎµÎ³Î¬Î»Î¿<br>
- Î¥ÏˆÎ·Î»ÏŒ ÏÎµÏÎ¼Î± Ï†Î¿ÏÏ„Î¯Î¿Ï…<br>
- ÎšÎ±ÎºÎ® Î¸ÎµÏÎ¼Î¹ÎºÎ® Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·
</td>
<td>
âœ… Buck pre-regulator ÏƒÏ„Î± 3.6V<br>
âœ… Thermal vias ÏƒÏ„Î¿ GND pad<br>
âœ… Copper pour Î³Î¹Î± heat dissipation
</td>
</tr>

<tr>
<td><b>ÎœÎµÎ³Î¬Î»Î· ÎºÎ±Ï„Î±Î½Î¬Î»Ï‰ÏƒÎ· sleep</b></td>
<td>
- LDO Ï…ÏˆÎ·Î»ÏŒ quiescent current<br>
- Leakage Î±Ï€ÏŒ peripherals<br>
- Pullups ÎµÎ½ÎµÏÎ³Î¬
</td>
<td>
âœ… LDO Î¼Îµ low Iq (<100ÂµA)<br>
âœ… Disable peripherals<br>
âœ… Float Î® disconnect unused pins
</td>
</tr>

<tr>
<td><b>Î‘ÏƒÏ„Î±Î¸Î­Ï‚ 3.3V</b></td>
<td>
- Î‘Î½ÎµÏ€Î±ÏÎºÎ®Ï‚ input capacitance<br>
- Oscillation Î±Ï€ÏŒ ÎºÎ±ÎºÏŒ layout<br>
- ESR Ï€Î¿Î»Ï Ï…ÏˆÎ·Î»ÏŒ
</td>
<td>
âœ… Input cap ÏƒÏÎ¼Ï†Ï‰Î½Î± Î¼Îµ datasheet<br>
âœ… Short traces LDOâ†”caps<br>
âœ… Î§ÏÎ®ÏƒÎ· X7R ceramic, ÏŒÏ‡Î¹ electrolytic
</td>
</tr>
</table>

<h3>ğŸ” Diagnostic Checklist</h3>

<div class="note">
<b>ÎŒÏ„Î±Î½ Î­Ï‡ÎµÎ¹Ï‚ Ï€ÏÏŒÎ²Î»Î·Î¼Î±, Î­Î»ÎµÎ³Î¾Îµ Î¼Îµ Ï„Î· ÏƒÎµÎ¹ÏÎ¬:</b>
<ol>
<li>â˜‘ï¸ Oscilloscope: Voltage ripple ÏƒÏ„Î¿ 3.3V rail ÎºÎ±Ï„Î¬ WiFi activity</li>
<li>â˜‘ï¸ Multimeter: DC voltage ÏƒÏ„Î¿ LDO output vs ESP32 VDD (max 50mV diff)</li>
<li>â˜‘ï¸ Visual: Î˜ÎµÏÎ¼ÏŒÏ„Î·Ï„Î± LDO Î¼Îµ Ï‡Î­ÏÎ¹ Î® IR Î¸ÎµÏÎ¼ÏŒÎ¼ÎµÏ„ÏÎ¿ (>70Â°C = problem)</li>
<li>â˜‘ï¸ Serial monitor: Brownout messages, reset reason</li>
<li>â˜‘ï¸ Code: Enable ESP32 brownout detector logging</li>
<li>â˜‘ï¸ Layout: Inspect capacitor placement (Ï†Ï‰Ï„Î¿Î³ÏÎ±Ï†Î¯Î± + ruler)</li>
<li>â˜‘ï¸ Current: INA219 Î® current clamp Î³Î¹Î± peak measurement</li>
</ol>
</div>
</div>

<!-- ============================================= -->
<div class="section" id="examples">
<h2>10. Î ÏÎ±ÎºÏ„Î¹ÎºÎ¬ Î Î±ÏÎ±Î´ÎµÎ¯Î³Î¼Î±Ï„Î± ÎšÏ…ÎºÎ»Ï‰Î¼Î¬Ï„Ï‰Î½</h2>

<h3>Example 1: Budget ESP32 Board (2-layer PCB)</h3>

<pre>
<b>Bill of Materials:</b>
- ESP32-WROOM-32D
- ME6211 LDO (3.3V, 500mA) - $0.10
- Capacitors: 2Ã— 100nF, 1Ã— 10ÂµF X7R - $0.05
- USB-to-Serial: CH340C - $0.30
- Total BOM (power section): <b>~$0.45</b>

<b>Schematic:</b>

    +5V USB
      â”‚
      â”œâ”€â”€â”€ 10ÂµF â”€â”€â”€â”
      â”‚            â”‚
      â–¼            â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
   â”‚ ME6211  â”‚     â”‚
   â”‚ (3.3V)  â”‚     â”‚
   â”‚ SOT-23  â”‚     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
      â”‚            â”‚
      â”œâ”€â”€â”€ 10ÂµF â”€â”€â”€â”¤
      â”‚            â”‚
      â”œâ”€â”€â”€ 100nF â”€â”€â”¤
      â”‚            â”‚
      â–¼            â”‚
   (ESP32 VDD) â”€â”€â”€â”€â”˜
      Ã—4 pins

   Each pin: 100nF to GND
   GND: solid plane on bottom layer

<b>Performance:</b>
âœ… WiFi stable
âœ… No brownouts with proper layout
âœ… Temperature: ~55Â°C @ ambient 25Â°C
âš ï¸  Limited to USB 5V input only
</pre>

<h3>Example 2: Battery-Powered IoT Device</h3>

<pre>
<b>Requirements:</b>
- Input: Li-ion 3.7-4.2V
- Sleep current: <100ÂµA
- WiFi periodic (every 5 min)

<b>Solution:</b>

    Li-ion (4.2V max)
      â”‚
      â”œâ”€â”€â”€ 22ÂµF X5R â”€â”€â”€â”
      â”‚                â”‚
      â–¼                â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
   â”‚ MIC5504 â”‚ (Iq=45ÂµA, dropout=0.2V)
   â”‚ 3.3V    â”‚         â”‚
   â”‚ SOT-23  â”‚         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
      â”‚                â”‚
      â”œâ”€â”€â”€ 10ÂµF â”€â”€â”€â”€â”€â”€â”€â”¤
      â”œâ”€â”€â”€ 100nF (Ã—4) â”€â”¤
      â”‚                â”‚
      â–¼                â”‚
   ESP32 VDD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

<b>Battery Life Calculation:</b>

Average current:
- Sleep 23h 50min: 50ÂµA (ESP32) + 45ÂµA (LDO) = 95ÂµA
- Active 10min: 120mA average

Daily Ah:
  (95ÂµA Ã— 23.83h + 120mA Ã— 0.167h) / 24h = 0.933 mAh/day

Battery: 2000mAh Li-ion
Life: 2000 / 0.933 â‰ˆ <b>2145 days (5.9 years)</b> theoretical
Practical: ~3-4 years (accounting for self-discharge)

âœ… MIC5504 selected for ultra-low Iq
âœ… Dropout 0.2V â†’ works down to 3.5V battery
</pre>

<h3>Example 3: Industrial ESP32 + TFT (Buck + LDO)</h3>

<pre>
<b>Requirements:</b>
- Input: 12V industrial power
- Load: ESP32 + 2.8" TFT (150mA) = ~300mA total
- Temperature range: -20Â°C to +70Â°C

<b>Solution: 2-stage</b>

    +12V Industrial
      â”‚
      â”œâ”€â”€â”€ 100ÂµF Electrolytic
      â”‚
      â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ MP2315 Buck  â”‚  12V â†’ 3.6V @ 3A
   â”‚ + Inductor   â”‚  Efficiency: ~90%
   â”‚ + Schottky   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”œâ”€â”€â”€ 22ÂµF X5R (output filter)
      â”‚
      â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ TLV700       â”‚  3.6V â†’ 3.3V (Industrial grade)
   â”‚ 3.3V 300mA   â”‚  Filters Buck noise
   â”‚ SOT-89       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”œâ”€â”€â”€ 22ÂµF bulk
      â”œâ”€â”€â”€ 10ÂµF 
      â”œâ”€â”€â”€ 100nF (Ã—6)
      â”‚
      â”œâ”€â”€â”€â†’ ESP32 (3.3V)
      â””â”€â”€â”€â†’ TFT (3.3V)

<b>Thermal Analysis:</b>

Buck stage:
Pin = 12V Ã— 0.3A = 3.6W
Pout = 3.6V Ã— 0.3A = 1.08W
Efficiency = 1.08/3.6 = 30%... WAIT! Buck is efficient!
Actual: 0.3A Ã— 3.6V / 0.9 = 1.2W input @ 90% eff.
Ploss_buck â‰ˆ 0.12W (dissipated across inductor + diode + IC)

LDO stage:
Ploss_LDO = (3.6 - 3.3) Ã— 0.3A = 0.09W âœ… Very cool!

âœ… Total efficiency: ~88%
âœ… LDO temperature: <40Â°C
âœ… TLV700 industrial rating: -40Â°C to +125Â°C
âœ… No EMI issues - LDO filters Buck switching noise
</pre>

<h3>Example 4: Precision ADC Application</h3>

<pre>
<b>Challenge:</b> ESP32 ADC (12-bit) with analog sensors
Requirement: Noise < 10mV to avoid Â±10 LSB errors

<b>Solution: Dual-rail power</b>

    +5V
     â”‚
     â”œâ”€â”€â†’ (Digital rail)
     â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚    â”‚ ME6211 â”‚ 5V â†’ 3.3V (for ESP32 digital, WiFi)
     â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚        â”‚
     â”‚        â””â”€â†’ ESP32 VDD (pins 1,2,3,4)
     â”‚
     â””â”€â”€â†’ (Analog rail - ultra-clean)
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚MIC5504 â”‚ 5V â†’ 3.3V (ultra-low noise)
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”œâ”€â†’ 10ÂµF + 100nF
              â”‚
              â”œâ”€â†’ RC filter (100Î© + 10ÂµF)
              â”‚
              â””â”€â†’ ESP32 VDDA (analog supply pin)
                  â””â”€â†’ ADC reference

<b>Additional filtering:</b>
- Sensor â†’ 1kÎ© â†’ 100nF â†’ ADC input
- Separate AGND pour around analog section
- Keep analog traces away from WiFi antenna

<b>Results:</b>
âœ… ADC noise: <5mV
âœ… 12-bit resolution maintained (Â±2 LSB)
âœ… Stable readings during WiFi TX
</pre>
</div>

<!-- ============================================= -->
<div class="section">
<h2>ğŸ“š Î£Ï…Î¼Ï€Î­ÏÎ±ÏƒÎ¼Î± & Quick Reference</h2>

<h3>âœ… DO's (ÎšÎ¬Î½Îµ Î±Ï…Ï„Î¬):</h3>
<ul>
<li><b>Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¯Î·ÏƒÎµ ÏƒÏÎ³Ï‡ÏÎ¿Î½Î± LDO:</b> ME6211, MIC5504, RT9080, TLV700</li>
<li><b>Buck + LDO</b> Î³Î¹Î± Vin > 5V Î® high current (>300mA)</li>
<li><b>Multiple decoupling caps:</b> 100nF ÏƒÎµ ÎºÎ¬Î¸Îµ VDD pin + 10-22ÂµF bulk</li>
<li><b>Thermal vias:</b> 6-9 vias ÎºÎ¬Ï„Ï‰ Î±Ï€ÏŒ LDO thermal pad</li>
<li><b>Short traces:</b> LDO â†’ capacitors â†’ ESP32 (minimize inductance)</li>
<li><b>Solid ground plane:</b> â‰¥70% coverage on bottom layer (2-layer PCB)</li>
<li><b>Test under load:</b> WiFi continuous TX, oscilloscope ÏƒÏ„Î¿ 3.3V rail</li>
</ul>

<h3>âŒ DON'Ts (ÎœÎ·Î½ ÎºÎ¬Î½ÎµÎ¹Ï‚ Î±Ï…Ï„Î¬):</h3>
<ul>
<li><b>AMS1117</b> Î³Î¹Î± ESP32/WiFi (brownouts guaranteed)</li>
<li><b>5V â†’ 3.3V direct LDO</b> ÏƒÎµ high current (overheating)</li>
<li><b>ÎœÎ±ÎºÏÎ¹Î­Ï‚, Î»ÎµÏ€Ï„Î­Ï‚ traces</b> Ï„ÏÎ¿Ï†Î¿Î´Î¿ÏƒÎ¯Î±Ï‚ (<0.5mm width)</li>
<li><b>ÎˆÎ½Î±Ï‚ Î¼ÏŒÎ½Î¿ Ï€Ï…ÎºÎ½Ï‰Ï„Î®Ï‚</b> Î³Î¹Î± decoupling (Ï‡ÏÎµÎ¹Î¬Î¶Î¿Î½Ï„Î±Î¹ Ï€Î¿Î»Î»Î±Ï€Î»Î¿Î¯)</li>
<li><b>Buck output ÎºÎ±Ï„ÎµÏ…Î¸ÎµÎ¯Î±Î½</b> ÏƒÏ„Î¿ ESP32 (RF noise)</li>
<li><b>Ignore thermal design</b> - Ï€Î¬Î½Ï„Î± Ï…Ï€Î¿Î»ÏŒÎ³Î¹Î¶Îµ Î¸ÎµÏÎ¼ÏŒÏ„Î·Ï„Î±</li>
<li><b>Skip testing</b> - measure, don't assume!</li>
</ul>

<h3>ğŸ¯ Quick Selection Guide:</h3>

<table>
<tr>
<th>Î£ÎµÎ½Î¬ÏÎ¹Î¿</th>
<th>Î ÏÎ¿Ï„ÎµÎ¹Î½ÏŒÎ¼ÎµÎ½Î· Î›ÏÏƒÎ·</th>
<th>ÎšÏŒÏƒÏ„Î¿Ï‚</th>
</tr>
<tr>
<td>Prototype / Arduino (no WiFi)</td>
<td>AMS1117</td>
<td>~$0.05</td>
</tr>
<tr>
<td>ESP32 Î±Ï€ÏŒ USB (5V)</td>
<td>ME6211 Î® RT9080</td>
<td>~$0.10</td>
</tr>
<tr>
<td>Battery (Li-ion 3.7V)</td>
<td>MIC5504 Î® AP2112</td>
<td>~$0.15</td>
</tr>
<tr>
<td>12V input</td>
<td>MP2315 (Buck) + ME6211 (LDO)</td>
<td>~$1.00</td>
</tr>
<tr>
<td>Industrial / Automotive</td>
<td>AOZ1282 (Buck) + TLV700 (LDO)</td>
<td>~$1.80</td>
</tr>
<tr>
<td>Precision ADC</td>
<td>TPS62177 (Buck) + MIC5504 (LDO)</td>
<td>~$2.00</td>
</tr>
</table>

<div class="tip" style="margin-top: 30px;">
<b>ğŸ“ Final Tip:</b>
<br>Î— ÏƒÏ‰ÏƒÏ„Î® Ï„ÏÎ¿Ï†Î¿Î´Î¿ÏƒÎ¯Î± ÎµÎ¯Î½Î±Î¹ Ï„Î¿ <b>90% Ï„Î·Ï‚ ÏƒÏ„Î±Î¸ÎµÏÏŒÏ„Î·Ï„Î±Ï‚</b> ÎµÎ½ÏŒÏ‚ embedded project.
ÎœÎ·Î½ ÎµÎ¾Î¿Î¹ÎºÎ¿Î½Î¿Î¼ÎµÎ¯Ï‚ $0.10 ÏƒÏ„Î¿ regulator Î³Î¹Î± Î½Î± Ï‡Î¬ÏƒÎµÎ¹Ï‚ ÏÏÎµÏ‚ debugging brownouts!
<br><br>
<b>Measure, test, iterate.</b> Î¤Î¿ oscilloscope ÎµÎ¯Î½Î±Î¹ Î¿ ÎºÎ±Î»ÏÏ„ÎµÏÏŒÏ‚ ÏƒÎ¿Ï… Ï†Î¯Î»Î¿Ï‚. ğŸ“Š
</div>
</div>

<footer style="text-align: center; padding: 30px; color: #666; margin-top: 40px; border-top: 2px solid #ddd;">
<p><b>Created for ESP32 & Custom PCB Enthusiasts</b></p>
<p>Happy building! ğŸ”§âš¡</p>
</footer>

</div>
</body>
</html>