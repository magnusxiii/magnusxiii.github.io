<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î®Ï‚ Î‘Î½Ï„Î¹ÏƒÏ„Î¬ÏƒÎµÏ‰Î½ - Î£ÎµÎ¹ÏÎ¬ & Î Î±ÏÎ¬Î»Î»Î·Î»Î±</title>
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-tertiary: #e9ecef;
            --text-primary: #212529;
            --text-secondary: #6c757d;
            --accent: #007bff;
            --accent-hover: #0056b3;
            --border: #dee2e6;
            --shadow: rgba(0, 0, 0, 0.1);
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
        }

        [data-theme="dark"] {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --bg-tertiary: #404040;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --accent: #4dabf7;
            --accent-hover: #339af0;
            --border: #495057;
            --shadow: rgba(255, 255, 255, 0.1);
            --success: #51cf66;
            --warning: #ffd43b;
            --danger: #ff6b6b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: all 0.3s ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--bg-secondary);
            border-radius: 15px;
            box-shadow: 0 4px 6px var(--shadow);
        }

        .header h1 {
            color: var(--accent);
            margin-bottom: 10px;
            font-size: 2.5rem;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--accent);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .theme-toggle:hover {
            background: var(--accent-hover);
            transform: scale(1.1);
        }

        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            background: var(--bg-secondary);
            border-radius: 10px;
            padding: 5px;
            flex-wrap: wrap;
        }

        .tab {
            background: transparent;
            border: none;
            padding: 15px 25px;
            cursor: pointer;
            border-radius: 8px;
            color: var(--text-secondary);
            font-weight: 500;
            transition: all 0.3s ease;
            margin: 2px;
        }

        .tab.active {
            background: var(--accent);
            color: white;
            transform: translateY(-2px);
        }

        .tab-content {
            display: none;
            background: var(--bg-secondary);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 25px var(--shadow);
            margin-bottom: 30px;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--border);
            border-radius: 8px;
            background: var(--bg-primary);
            color: var(--text-primary);
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }

        .btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            background: var(--accent-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--shadow);
        }

        .btn-secondary {
            background: var(--text-secondary);
        }

        .btn-danger {
            background: var(--danger);
        }

        .result {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid var(--success);
        }

        .result h3 {
            color: var(--success);
            margin-bottom: 10px;
        }

        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .result-box {
            background: var(--bg-primary);
            padding: 20px;
            border-radius: 10px;
            border: 2px solid var(--border);
            text-align: center;
            transition: all 0.3s ease;
        }

        .result-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px var(--shadow);
        }

        .result-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--accent);
            margin: 10px 0;
        }

        .resistor-list {
            background: var(--bg-primary);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border: 1px solid var(--border);
        }

        .resistor-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid var(--border);
        }

        .resistor-item:last-child {
            border-bottom: none;
        }

        .color-bands {
            display: flex;
            gap: 5px;
            margin: 20px 0;
            justify-content: center;
            flex-wrap: wrap;
        }

        .band {
            width: 40px;
            height: 200px;
            border: 2px solid var(--border);
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
            transition: all 0.3s ease;
        }

        .band:hover {
            transform: scale(1.05);
        }

        .color-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }

        .color-option {
            padding: 10px;
            border: 2px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            background: var(--bg-primary);
        }

        .color-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px var(--shadow);
        }

        .color-option.selected {
            border-color: var(--accent);
            background: var(--accent);
            color: white;
        }

        .chart-container {
            background: var(--bg-primary);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }

        .chart {
            width: 100%;
            height: 300px;
            position: relative;
            overflow: hidden;
        }

        .bar {
            position: absolute;
            bottom: 0;
            background: var(--accent);
            border-radius: 4px 4px 0 0;
            transition: all 0.5s ease;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            color: white;
            font-weight: bold;
            padding: 5px;
            font-size: 12px;
        }

        .bar-label {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 11px;
            color: var(--text-primary);
            white-space: nowrap;
        }

        .explanation {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid var(--warning);
        }

        .formula {
            background: var(--bg-primary);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 18px;
            text-align: center;
            margin: 10px 0;
            border: 2px solid var(--accent);
        }

        .step-by-step {
            background: var(--bg-primary);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border: 1px solid var(--border);
        }

        .step {
            margin: 15px 0;
            padding: 10px;
            background: var(--bg-tertiary);
            border-radius: 8px;
            border-left: 4px solid var(--accent);
        }

        .fraction {
            display: inline-block;
            text-align: center;
            vertical-align: middle;
        }

        .fraction .numerator {
            display: block;
            border-bottom: 1px solid var(--text-primary);
            padding-bottom: 2px;
        }

        .fraction .denominator {
            display: block;
            padding-top: 2px;
        }

        .color-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--bg-primary);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px var(--shadow);
        }

        .color-table th,
        .color-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid var(--border);
        }

        .color-table th {
            background: var(--accent);
            color: white;
            font-weight: 600;
        }

        .color-table tr:hover {
            background: var(--bg-tertiary);
        }

        .color-sample {
            width: 30px;
            height: 20px;
            border-radius: 4px;
            display: inline-block;
            border: 1px solid var(--border);
            margin-right: 10px;
        }

        .example {
            background: var(--bg-primary);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border: 1px solid var(--border);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .unit-converter {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
            margin: 15px 0;
        }

        .unit-converter select {
            min-width: 80px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .tabs {
                flex-direction: column;
            }

            .tab {
                width: 100%;
                margin: 2px 0;
            }

            .color-bands {
                justify-content: center;
            }

            .band {
                width: 30px;
                height: 150px;
            }

            .unit-converter {
                flex-direction: column;
                align-items: stretch;
            }

            .result-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Color definitions for resistor bands */
        .black { background-color: #000000; }
        .brown { background-color: #8B4513; }
        .red { background-color: #FF0000; }
        .orange { background-color: #FFA500; }
        .yellow { background-color: #FFFF00; color: black !important; }
        .green { background-color: #008000; }
        .blue { background-color: #0000FF; }
        .violet { background-color: #8B00FF; }
        .grey { background-color: #808080; }
        .white { background-color: #FFFFFF; color: black !important; }
        .gold { background-color: #FFD700; color: black !important; }
        .silver { background-color: #C0C0C0; color: black !important; }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ™</button>
    
    <div class="container">
        <div class="header">
            <h1>ğŸ”§ Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î®Ï‚ Î‘Î½Ï„Î¹ÏƒÏ„Î¬ÏƒÎµÏ‰Î½</h1>
            <p>Î Î»Î®ÏÎ·Ï‚ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î®Ï‚ Î³Î¹Î± Î±Î½Ï„Î¹ÏƒÏ„Î¬ÏƒÎµÎ¹Ï‚ ÏƒÎµ ÏƒÎµÎ¹ÏÎ¬, Ï€Î±ÏÎ¬Î»Î»Î·Î»Î± ÎºÎ±Î¹ Ï‡ÏÏ‰Î¼Î±Ï„Î¹ÎºÎ¿ÏÏ‚ ÎºÏÎ´Î¹ÎºÎµÏ‚</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('series-parallel')">Î£ÎµÎ¹ÏÎ¬ & Î Î±ÏÎ¬Î»Î»Î·Î»Î±</button>
            <button class="tab" onclick="showTab('color-code')">Î§ÏÏ‰Î¼Î±Ï„Î¹ÎºÏŒÏ‚ ÎšÏÎ´Î¹ÎºÎ±Ï‚</button>
            <button class="tab" onclick="showTab('examples')">Î Î±ÏÎ±Î´ÎµÎ¯Î³Î¼Î±Ï„Î±</button>
            <button class="tab" onclick="showTab('theory')">Î˜ÎµÏ‰ÏÎ¯Î±</button>
        </div>

        <!-- Î£ÎµÎ¹ÏÎ¬ & Î Î±ÏÎ¬Î»Î»Î·Î»Î± Tab -->
        <div id="series-parallel" class="tab-content active">
            <h2>ğŸ“Š Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î‘Î½Ï„Î¹ÏƒÏ„Î¬ÏƒÎµÏ‰Î½</h2>
            
            <div class="grid">
                <div>
                    <div class="input-group">
                        <label>Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î‘Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ·Ï‚ (Î©):</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="number" id="resistor-value" placeholder="Î•Î¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï„Î¹Î¼Î®" step="0.01">
                            <select id="resistor-unit">
                                <option value="1">Î©</option>
                                <option value="1000">kÎ©</option>
                                <option value="1000000">MÎ©</option>
                            </select>
                            <button class="btn" onclick="addResistor()">Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ·</button>
                        </div>
                    </div>

                    <div class="resistor-list" id="resistor-list">
                        <h3>Î›Î¯ÏƒÏ„Î± Î‘Î½Ï„Î¹ÏƒÏ„Î¬ÏƒÎµÏ‰Î½:</h3>
                        <p>Î ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ Î±Î½Ï„Î¹ÏƒÏ„Î¬ÏƒÎµÎ¹Ï‚ Î³Î¹Î± Î½Î± Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÏ„Îµ Ï„Î¿Î½ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒ</p>
                    </div>

                    <div style="text-align: center; margin: 20px 0;">
                        <button class="btn" onclick="calculateResistance()">Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚</button>
                        <button class="btn btn-secondary" onclick="clearResistors()">ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚</button>
                    </div>
                </div>

                <div>
                    <div class="result" id="calculation-result" style="display: none;">
                        <h3>ğŸ“ˆ Î‘Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î±:</h3>
                        <div id="result-content"></div>
                    </div>

                    <div class="explanation">
                        <h3>ğŸ“ Î¤ÏÏ€Î¿Î¹:</h3>
                        <div class="formula">
                            <strong>Î£ÎµÎ¹ÏÎ¬:</strong> R<sub>total</sub> = Râ‚ + Râ‚‚ + Râ‚ƒ + ...
                        </div>
                        <div class="formula">
                            <strong>Î Î±ÏÎ¬Î»Î»Î·Î»Î±:</strong> 1/R<sub>total</sub> = 1/Râ‚ + 1/Râ‚‚ + 1/Râ‚ƒ + ...
                        </div>
                    </div>
                </div>
            </div>

            <div class="step-by-step" id="calculation-steps" style="display: none;">
                <h3>ğŸ“ Î•Ï€ÎµÎ¾Î®Î³Î·ÏƒÎ· Î ÏÎ¬Î¾ÎµÏ‰Î½</h3>
                <div id="steps-content"></div>
            </div>

            <div class="chart-container">
                <h3>ğŸ“Š Î“ÏÎ±Ï†Î¹ÎºÎ® Î‘Î½Î±Ï€Î±ÏÎ¬ÏƒÏ„Î±ÏƒÎ·</h3>
                <div class="chart" id="resistance-chart"></div>
            </div>
        </div>

        <!-- Î§ÏÏ‰Î¼Î±Ï„Î¹ÎºÏŒÏ‚ ÎšÏÎ´Î¹ÎºÎ±Ï‚ Tab -->
        <div id="color-code" class="tab-content">
            <h2>ğŸ¨ Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î®Ï‚ Î§ÏÏ‰Î¼Î±Ï„Î¹ÎºÎ¿Ï ÎšÏÎ´Î¹ÎºÎ±</h2>
            
            <div class="input-group">
                <label>Î‘ÏÎ¹Î¸Î¼ÏŒÏ‚ Î–Ï‰Î½ÏÎ½:</label>
                <select id="band-count" onchange="updateBandCount()">
                    <option value="4">4 Î–ÏÎ½ÎµÏ‚</option>
                    <option value="5">5 Î–ÏÎ½ÎµÏ‚</option>
                    <option value="6">6 Î–ÏÎ½ÎµÏ‚</option>
                </select>
            </div>

            <div class="color-bands" id="color-bands">
                <!-- Bands will be generated by JavaScript -->
            </div>

            <div class="result" id="color-result" style="display: none;">
                <h3>ğŸ¯ Î‘Ï€Î¿Ï„Î­Î»ÎµÏƒÎ¼Î±:</h3>
                <div id="color-result-content"></div>
            </div>

            <div class="explanation">
                <h3>ğŸ¨ Î Î¯Î½Î±ÎºÎ±Ï‚ Î§ÏÏ‰Î¼Î¬Ï„Ï‰Î½ Î‘Î½Ï„Î¹ÏƒÏ„Î¬ÏƒÎµÏ‰Î½</h3>
                <table class="color-table">
                    <thead>
                        <tr>
                            <th>Î§ÏÏÎ¼Î±</th>
                            <th>Î¨Î·Ï†Î¯Î¿</th>
                            <th>Î Î¿Î»Î»Î±Ï€Î»Î±ÏƒÎ¹Î±ÏƒÏ„Î®Ï‚</th>
                            <th>Î‘Î½Î¿Ï‡Î®</th>
                            <th>Î˜ÎµÏÎ¼. Î£Ï…Î½Ï„.</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="color-sample black"></span>ÎœÎ±ÏÏÎ¿</td>
                            <td>0</td>
                            <td>Ã—1</td>
                            <td>-</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td><span class="color-sample brown"></span>ÎšÎ±Ï†Î­</td>
                            <td>1</td>
                            <td>Ã—10</td>
                            <td>Â± 1%</td>
                            <td>100 ppm/Â°C</td>
                        </tr>
                        <tr>
                            <td><span class="color-sample red"></span>ÎšÏŒÎºÎºÎ¹Î½Î¿</td>
                            <td>2</td>
                            <td>Ã—100</td>
                            <td>Â± 2%</td>
                            <td>50 ppm/Â°C</td>
                        </tr>
                        <tr>
                            <td><span class="color-sample orange"></span>Î Î¿ÏÏ„Î¿ÎºÎ±Î»Î¯</td>
                            <td>3</td>
                            <td>Ã—1kÎ©</td>
                            <td>-</td>
                            <td>15 ppm/Â°C</td>
                        </tr>
                        <tr>
                            <td><span class="color-sample yellow"></span>ÎšÎ¯Ï„ÏÎ¹Î½Î¿</td>
                            <td>4</td>
                            <td>Ã—10kÎ©</td>
                            <td>-</td>
                            <td>25 ppm/Â°C</td>
                        </tr>
                        <tr>
                            <td><span class="color-sample green"></span>Î ÏÎ¬ÏƒÎ¹Î½Î¿</td>
                            <td>5</td>
                            <td>Ã—100kÎ©</td>
                            <td>Â± 0.5%</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td><span class="color-sample blue"></span>ÎœÏ€Î»Îµ</td>
                            <td>6</td>
                            <td>Ã—1MÎ©</td>
                            <td>Â± 0.25%</td>
                            <td>10 ppm/Â°C</td>
                        </tr>
                        <tr>
                            <td><span class="color-sample violet"></span>Î’Î¹Î¿Î»ÎµÏ„Î¯</td>
                            <td>7</td>
                            <td>Ã—10MÎ©</td>
                            <td>Â± 0.1%</td>
                            <td>5 ppm/Â°C</td>
                        </tr>
                        <tr>
                            <td><span class="color-sample grey"></span>Î“ÎºÏÎ¹</td>
                            <td>8</td>
                            <td>Ã—100MÎ©</td>
                            <td>Â± 0.05%</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td><span class="color-sample white"></span>Î†ÏƒÏ€ÏÎ¿</td>
                            <td>9</td>
                            <td>Ã—1GÎ©</td>
                            <td>-</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td><span class="color-sample gold"></span>Î§ÏÏ…ÏƒÏŒ</td>
                            <td>-</td>
                            <td>Ã—0.1</td>
                            <td>Â± 5%</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td><span class="color-sample silver"></span>Î‘ÏƒÎ·Î¼Î¯</td>
                            <td>-</td>
                            <td>Ã—0.01</td>
                            <td>Â± 10%</td>
                            <td>-</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="chart-container">
                <h3>ğŸ“Š Î‘Î½Î¬Î»Ï…ÏƒÎ· Î‘Î½Î¿Ï‡Î®Ï‚</h3>
                <div class="chart" id="tolerance-chart"></div>
            </div>
        </div>

        <!-- Î Î±ÏÎ±Î´ÎµÎ¯Î³Î¼Î±Ï„Î± Tab -->
        <div id="examples" class="tab-content">
            <h2>ğŸ’¡ Î Î±ÏÎ±Î´ÎµÎ¯Î³Î¼Î±Ï„Î± Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏÎ½</h2>
            
            <div class="example">
                <h3>ğŸ”— Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Î£ÎµÎ¹ÏÎ¬Ï‚</h3>
                <p><strong>Î”ÎµÎ´Î¿Î¼Î­Î½Î±:</strong> Râ‚ = 100Î©, Râ‚‚ = 220Î©, Râ‚ƒ = 330Î©</p>
                <div class="formula">R<sub>total</sub> = 100 + 220 + 330 = 650Î©</div>
                <p><strong>Î•Î¾Î®Î³Î·ÏƒÎ·:</strong> Î£Ï„Î· ÏƒÏÎ½Î´ÎµÏƒÎ· ÏƒÎµ ÏƒÎµÎ¹ÏÎ¬, Î¿Î¹ Î±Î½Ï„Î¹ÏƒÏ„Î¬ÏƒÎµÎ¹Ï‚ Ï€ÏÎ¿ÏƒÏ„Î¯Î¸ÎµÎ½Ï„Î±Î¹ Î±Ï€Î»Î¬.</p>
            </div>

            <div class="example">
                <h3>âš¡ Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Î Î±ÏÎ±Î»Î»Î®Î»Ï‰Î½</h3>
                <p><strong>Î”ÎµÎ´Î¿Î¼Î­Î½Î±:</strong> Râ‚ = 100Î©, Râ‚‚ = 200Î©</p>
                <div class="step-by-step">
                    <div class="step">
                        <strong>Î’Î®Î¼Î± 1:</strong> Î•Ï†Î±ÏÎ¼ÏŒÎ¶Î¿Ï…Î¼Îµ Ï„Î¿Î½ Ï„ÏÏ€Î¿
                        <div class="formula">
                            <span class="fraction">
                                <span class="numerator">1</span>
                                <span class="denominator">R<sub>total</sub></span>
                            </span>
                            =
                            <span class="fraction">
                                <span class="numerator">1</span>
                                <span class="denominator">Râ‚</span>
                            </span>
                            +
                            <span class="fraction">
                                <span class="numerator">1</span>
                                <span class="denominator">Râ‚‚</span>
                            </span>
                        </div>
                    </div>
                    <div class="step">
                        <strong>Î’Î®Î¼Î± 2:</strong> Î‘Î½Ï„Î¹ÎºÎ±Î¸Î¹ÏƒÏ„Î¿ÏÎ¼Îµ Ï„Î¹Ï‚ Ï„Î¹Î¼Î­Ï‚
                        <div class="formula">
                            <span class="fraction">
                                <span class="numerator">1</span>
                                <span class="denominator">R<sub>total</sub></span>
                            </span>
                            =
                            <span class="fraction">
                                <span class="numerator">1</span>
                                <span class="denominator">100</span>
                            </span>
                            +
                            <span class="fraction">
                                <span class="numerator">1</span>
                                <span class="denominator">200</span>
                            </span>
                        </div>
                    </div>
                    <div class="step">
                        <strong>Î’Î®Î¼Î± 3:</strong> Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶Î¿Ï…Î¼Îµ
                        <div class="formula">
                            <span class="fraction">
                                <span class="numerator">1</span>
                                <span class="denominator">R<sub>total</sub></span>
                            </span>
                            = 0.01 + 0.005 = 0.015
                        </div>
                    </div>
                    <div class="step">
                        <strong>Î’Î®Î¼Î± 4:</strong> Î’ÏÎ¯ÏƒÎºÎ¿Ï…Î¼Îµ Ï„Î¿ R<sub>total</sub>
                        <div class="formula">R<sub>total</sub> = <span class="fraction">
                            <span class="numerator">1</span>
                            <span class="denominator">0.015</span>
                        </span> = 66.67Î©</div>
                    </div>
                </div>
            </div>

            <div class="chart-container">
                <h3>ğŸ“Š Î£ÏÎ³ÎºÏÎ¹ÏƒÎ· ÎœÎµÎ¸ÏŒÎ´Ï‰Î½ Î£ÏÎ½Î´ÎµÏƒÎ·Ï‚</h3>
                <div class="chart" id="comparison-chart"></div>
            </div>
        </div>

        <!-- Î˜ÎµÏ‰ÏÎ¯Î± Tab -->
        <div id="theory" class="tab-content">
            <h2>ğŸ“š Î˜ÎµÏ‰ÏÎ·Ï„Î¹ÎºÏŒ Î¥Ï€ÏŒÎ²Î±Î¸ÏÎ¿</h2>
            
            <div class="explanation">
                <h3>ğŸ”¬ Î¤Î¹ ÎµÎ¯Î½Î±Î¹ Î· Î‘Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ·;</h3>
                <p>Î— Î±Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ· ÎµÎ¯Î½Î±Î¹ Î· Î¹Î´Î¹ÏŒÏ„Î·Ï„Î± ÎµÎ½ÏŒÏ‚ Ï…Î»Î¹ÎºÎ¿Ï Î½Î± Î±Î½Ï„Î¹ÏƒÏ„Î­ÎºÎµÏ„Î±Î¹ ÏƒÏ„Î· Î´Î¹Î­Î»ÎµÏ…ÏƒÎ· Ï„Î¿Ï… Î·Î»ÎµÎºÏ„ÏÎ¹ÎºÎ¿Ï ÏÎµÏÎ¼Î±Ï„Î¿Ï‚. ÎœÎµÏ„ÏÎ¹Î­Ï„Î±Î¹ ÏƒÎµ Ohm (Î©) ÎºÎ±Î¹ ÏƒÏ…Î¼Î²Î¿Î»Î¯Î¶ÎµÏ„Î±Î¹ Î¼Îµ Ï„Î¿ Î³ÏÎ¬Î¼Î¼Î± R.</p>
            </div>

            <div class="explanation">
                <h3>ğŸ”— Î£ÏÎ½Î´ÎµÏƒÎ· ÏƒÎµ Î£ÎµÎ¹ÏÎ¬</h3>
                <p>Î£Ï„Î· ÏƒÏÎ½Î´ÎµÏƒÎ· ÏƒÎµ ÏƒÎµÎ¹ÏÎ¬, Î¿Î¹ Î±Î½Ï„Î¹ÏƒÏ„Î¬ÏƒÎµÎ¹Ï‚ ÏƒÏ…Î½Î´Î­Î¿Î½Ï„Î±Î¹ Î· Î¼Î¯Î± Î¼ÎµÏ„Î¬ Ï„Î·Î½ Î¬Î»Î»Î·. Î¤Î¿ ÏÎµÏÎ¼Î± Ï€Î¿Ï… Î´Î¹Î±ÏÏÎ­ÎµÎ¹ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ Î±Î½Ï„Î¹ÏƒÏ„Î¬ÏƒÎµÎ¹Ï‚ ÎµÎ¯Î½Î±Î¹ Ï„Î¿ Î¯Î´Î¹Î¿, ÎµÎ½Ï Î· Ï„Î¬ÏƒÎ· ÎºÎ±Ï„Î±Î½Î­Î¼ÎµÏ„Î±Î¹ Î±Î½Î¬Î»Î¿Î³Î± Î¼Îµ Ï„Î·Î½ Î±Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ· ÎºÎ¬Î¸Îµ ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î¿Ï….</p>
                <div class="formula">R<sub>total</sub> = Râ‚ + Râ‚‚ + Râ‚ƒ + ... + Râ‚™</div>
            </div>

            <div class="explanation">
                <h3>âš¡ Î£ÏÎ½Î´ÎµÏƒÎ· Î Î±ÏÎ¬Î»Î»Î·Î»Î±</h3>
                <p>Î£Ï„Î· ÏƒÏÎ½Î´ÎµÏƒÎ· Ï€Î±ÏÎ¬Î»Î»Î·Î»Î±, ÏŒÎ»ÎµÏ‚ Î¿Î¹ Î±Î½Ï„Î¹ÏƒÏ„Î¬ÏƒÎµÎ¹Ï‚ ÏƒÏ…Î½Î´Î­Î¿Î½Ï„Î±Î¹ ÏƒÏ„Î± Î¯Î´Î¹Î± ÏƒÎ·Î¼ÎµÎ¯Î±. Î— Ï„Î¬ÏƒÎ· ÏƒÎµ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ Î±Î½Ï„Î¹ÏƒÏ„Î¬ÏƒÎµÎ¹Ï‚ ÎµÎ¯Î½Î±Î¹ Î· Î¯Î´Î¹Î±, ÎµÎ½Ï Ï„Î¿ ÏÎµÏÎ¼Î± ÎºÎ±Ï„Î±Î½Î­Î¼ÎµÏ„Î±Î¹ Î±Î½Î¬Î»Î¿Î³Î± Î¼Îµ Ï„Î·Î½ Î±Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ· ÎºÎ¬Î¸Îµ ÎºÎ»Î¬Î´Î¿Ï….</p>
                <div class="formula">1/R<sub>total</sub> = 1/Râ‚ + 1/Râ‚‚ + 1/Râ‚ƒ + ... + 1/Râ‚™</div>
            </div>

            <div class="chart-container">
                <h3>ğŸ“Š Î£Ï…Î¼Ï€ÎµÏÎ¹Ï†Î¿ÏÎ¬ Î‘Î½Ï„Î¹ÏƒÏ„Î¬ÏƒÎµÏ‰Î½</h3>
                <div class="chart" id="behavior-chart"></div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let resistors = [];
        let currentBandCount = 4;
        let selectedBands = {};
        let isDarkMode = false;

        // Color codes for resistors
        const colorCodes = {
            'black': { value: 0, multiplier: 1, tolerance: null },
            'brown': { value: 1, multiplier: 10, tolerance: 1 },
            'red': { value: 2, multiplier: 100, tolerance: 2 },
            'orange': { value: 3, multiplier: 1000, tolerance: 3 },
            'yellow': { value: 4, multiplier: 10000, tolerance: 4 },
            'green': { value: 5, multiplier: 100000, tolerance: 0.5 },
            'blue': { value: 6, multiplier: 1000000, tolerance: 0.25 },
            'violet': { value: 7, multiplier: 10000000, tolerance: 0.1 },
            'grey': { value: 8, multiplier: 100000000, tolerance: 0.05 },
            'white': { value: 9, multiplier: 1000000000, tolerance: null },
            'gold': { value: null, multiplier: 0.1, tolerance: 5 },
            'silver': { value: null, multiplier: 0.01, tolerance: 10 }
        };

        const colorNames = {
            'black': 'ÎœÎ±ÏÏÎ¿',
            'brown': 'ÎšÎ±Ï†Î­',
            'red': 'ÎšÏŒÎºÎºÎ¹Î½Î¿',
            'orange': 'Î Î¿ÏÏ„Î¿ÎºÎ±Î»Î¯',
            'yellow': 'ÎšÎ¯Ï„ÏÎ¹Î½Î¿',
            'green': 'Î ÏÎ¬ÏƒÎ¹Î½Î¿',
            'blue': 'ÎœÏ€Î»Îµ',
            'violet': 'Î’Î¹Î¿Î»ÎµÏ„Î¯',
            'grey': 'Î“ÎºÏÎ¹',
            'white': 'Î†ÏƒÏ€ÏÎ¿',
            'gold': 'Î§ÏÏ…ÏƒÏŒ',
            'silver': 'Î‘ÏƒÎ·Î¼Î¯'
        };

        // Theme toggle
        function toggleTheme() {
            isDarkMode = !isDarkMode;
            document.body.setAttribute('data-theme', isDarkMode ? 'dark' : 'light');
            document.querySelector('.theme-toggle').textContent = isDarkMode ? 'â˜€ï¸' : 'ğŸŒ™';
            localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
        }

        // Load saved theme
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                isDarkMode = savedTheme === 'dark';
                document.body.setAttribute('data-theme', isDarkMode ? 'dark' : 'light');
                document.querySelector('.theme-toggle').textContent = isDarkMode ? 'â˜€ï¸' : 'ğŸŒ™';
            }
        }

        // Tab functionality
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Add resistor to list
        function addResistor() {
            const value = parseFloat(document.getElementById('resistor-value').value);
            const unit = parseFloat(document.getElementById('resistor-unit').value);
            
            if (isNaN(value) || value <= 0) {
                alert('Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ Î­Î³ÎºÏ…ÏÎ· Ï„Î¹Î¼Î® Î±Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ·Ï‚');
                return;
            }
            
            const resistorValue = value * unit;
            resistors.push(resistorValue);
            
            updateResistorList();
            document.getElementById('resistor-value').value = '';
        }

        // Update resistor list display
        function updateResistorList() {
            const listElement = document.getElementById('resistor-list');
            
            if (resistors.length === 0) {
                listElement.innerHTML = '<h3>Î›Î¯ÏƒÏ„Î± Î‘Î½Ï„Î¹ÏƒÏ„Î¬ÏƒÎµÏ‰Î½:</h3><p>Î ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ Î±Î½Ï„Î¹ÏƒÏ„Î¬ÏƒÎµÎ¹Ï‚ Î³Î¹Î± Î½Î± Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÏ„Îµ Ï„Î¿Î½ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒ</p>';
                return;
            }
            
            let html = '<h3>Î›Î¯ÏƒÏ„Î± Î‘Î½Ï„Î¹ÏƒÏ„Î¬ÏƒÎµÏ‰Î½:</h3>';
            resistors.forEach((resistor, index) => {
                const { value, unit } = formatResistance(resistor);
                html += `
                    <div class="resistor-item">
                        <span>R${index + 1}: ${value} ${unit}</span>
                        <button class="btn btn-danger" onclick="removeResistor(${index})">Î‘Ï†Î±Î¯ÏÎµÏƒÎ·</button>
                    </div>
                `;
            });
            
            listElement.innerHTML = html;
        }

        // Remove resistor from list
        function removeResistor(index) {
            resistors.splice(index, 1);
            updateResistorList();
            if (resistors.length > 0) {
                calculateResistance();
            } else {
                document.getElementById('calculation-result').style.display = 'none';
                document.getElementById('calculation-steps').style.display = 'none';
            }
        }

        // Clear all resistors
        function clearResistors() {
            resistors = [];
            updateResistorList();
            document.getElementById('calculation-result').style.display = 'none';
            document.getElementById('calculation-steps').style.display = 'none';
            document.getElementById('resistance-chart').innerHTML = '';
        }

        // Calculate resistance
        function calculateResistance() {
            if (resistors.length === 0) {
                alert('Î ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ Î¼Î¯Î± Î±Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ·');
                return;
            }
            
            const seriesResistance = resistors.reduce((sum, r) => sum + r, 0);
            const parallelResistance = 1 / resistors.reduce((sum, r) => sum + (1/r), 0);
            
            displayResults(seriesResistance, parallelResistance);
            displayCalculationSteps(seriesResistance, parallelResistance);
            updateResistanceChart(seriesResistance, parallelResistance);
        }

        // Display calculation results with 4 boxes
        function displayResults(series, parallel) {
            const seriesFormatted = formatResistanceDetailed(series);
            const parallelFormatted = formatResistanceDetailed(parallel);
            const ratio = series / parallel;
            const powerSeries = calculatePower(series, 12); // Assuming 12V
            const powerParallel = calculatePower(parallel, 12);
            
            const resultContent = `
                <div class="result-grid">
                    <div class="result-box">
                        <h4>ğŸ”— Î£ÏÎ½Î´ÎµÏƒÎ· ÏƒÎµ Î£ÎµÎ¹ÏÎ¬</h4>
                        <div class="result-value">${seriesFormatted.value}</div>
                        <div>${seriesFormatted.unit}</div>
                        <small>Î¤ÏÏ€Î¿Ï‚: Râ‚ + Râ‚‚ + Râ‚ƒ + ...</small>
                    </div>
                    <div class="result-box">
                        <h4>âš¡ Î£ÏÎ½Î´ÎµÏƒÎ· Î Î±ÏÎ¬Î»Î»Î·Î»Î±</h4>
                        <div class="result-value">${parallelFormatted.value}</div>
                        <div>${parallelFormatted.unit}</div>
                        <small>Î¤ÏÏ€Î¿Ï‚: 1/(1/Râ‚ + 1/Râ‚‚ + ...)</small>
                    </div>
                    <div class="result-box">
                        <h4>ğŸ“Š Î›ÏŒÎ³Î¿Ï‚ Î£ÎµÎ¹ÏÎ¬Ï‚/Î Î±ÏÎ±Î»Î»Î®Î»Ï‰Î½</h4>
                        <div class="result-value">${ratio.toFixed(4)}</div>
                        <div>Ï†Î¿ÏÎ­Ï‚</div>
                        <small>Î— ÏƒÎµÎ¹ÏÎ¬ ÎµÎ¯Î½Î±Î¹ ${ratio.toFixed(2)}Ã— Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ·</small>
                    </div>
                    <div class="result-box">
                        <h4>âš¡ ÎšÎ±Ï„Î±Î½Î¬Î»Ï‰ÏƒÎ· Î™ÏƒÏ‡ÏÎ¿Ï‚ (12V)</h4>
                        <div class="result-value">${powerSeries.toFixed(4)}</div>
                        <div>W (Î£ÎµÎ¹ÏÎ¬)</div>
                        <div class="result-value">${powerParallel.toFixed(4)}</div>
                        <div>W (Î Î±ÏÎ¬Î»Î»Î·Î»Î±)</div>
                    </div>
                </div>
                <div style="margin-top: 20px; padding: 15px; background: var(--bg-primary); border-radius: 8px;">
                    <h4>ğŸ” Î›ÎµÏ€Ï„Î¿Î¼ÎµÏÎ®Ï‚ Î‘Î½Î¬Î»Ï…ÏƒÎ·:</h4>
                    <p>â€¢ <strong>Î£ÎµÎ¹ÏÎ¹Î±ÎºÎ® Î‘Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ·:</strong> ${seriesFormatted.value} ${seriesFormatted.unit} (Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ· Î±Ï€ÏŒ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ ÎµÏ€Î¹Î¼Î­ÏÎ¿Ï…Ï‚)</p>
                    <p>â€¢ <strong>Î Î±ÏÎ¬Î»Î»Î·Î»Î· Î‘Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ·:</strong> ${parallelFormatted.value} ${parallelFormatted.unit} (Î¼Î¹ÎºÏÏŒÏ„ÎµÏÎ· Î±Ï€ÏŒ Ï„Î· Î¼Î¹ÎºÏÏŒÏ„ÎµÏÎ· ÎµÏ€Î¹Î¼Î­ÏÎ¿Ï…Ï‚)</p>
                    <p>â€¢ <strong>Î”Î¹Î±Ï†Î¿ÏÎ¬:</strong> ${formatResistanceDetailed(series - parallel).value} ${formatResistanceDetailed(series - parallel).unit}</p>
                    <p>â€¢ <strong>Î¡ÎµÏÎ¼Î± ÏƒÏ„Î· Î£ÎµÎ¹ÏÎ¬ (12V):</strong> ${(12/series).toFixed(6)} A</p>
                    <p>â€¢ <strong>Î¡ÎµÏÎ¼Î± Î Î±ÏÎ¬Î»Î»Î·Î»Î± (12V):</strong> ${(12/parallel).toFixed(6)} A</p>
                </div>
            `;
            
            document.getElementById('result-content').innerHTML = resultContent;
            document.getElementById('calculation-result').style.display = 'block';
        }

        // Display step-by-step calculation
        function displayCalculationSteps(series, parallel) {
            let stepsHtml = '<h4>ğŸ”— Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î£ÎµÎ¹ÏÎ¬Ï‚:</h4>';
            
            stepsHtml += '<div class="step">';
            stepsHtml += '<strong>Î’Î®Î¼Î± 1:</strong> Î•Ï†Î±ÏÎ¼ÏŒÎ¶Î¿Ï…Î¼Îµ Ï„Î¿Î½ Ï„ÏÏ€Î¿ ÏƒÎµÎ¹ÏÎ¬Ï‚<br>';
            stepsHtml += '<div class="formula">R<sub>total</sub> = Râ‚ + Râ‚‚ + Râ‚ƒ + ...</div>';
            stepsHtml += '</div>';
            
            stepsHtml += '<div class="step">';
            stepsHtml += '<strong>Î’Î®Î¼Î± 2:</strong> Î‘Î½Ï„Î¹ÎºÎ±Î¸Î¹ÏƒÏ„Î¿ÏÎ¼Îµ Ï„Î¹Ï‚ Ï„Î¹Î¼Î­Ï‚<br>';
            stepsHtml += '<div class="formula">R<sub>total</sub> = ';
            resistors.forEach((r, i) => {
                const formatted = formatResistanceDetailed(r);
                stepsHtml += `${formatted.value}${formatted.unit}`;
                if (i < resistors.length - 1) stepsHtml += ' + ';
            });
            stepsHtml += '</div>';
            stepsHtml += '</div>';
            
            stepsHtml += '<div class="step">';
            stepsHtml += '<strong>Î’Î®Î¼Î± 3:</strong> Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶Î¿Ï…Î¼Îµ Ï„Î¿ Î¬Î¸ÏÎ¿Î¹ÏƒÎ¼Î±<br>';
            const seriesFormatted = formatResistanceDetailed(series);
            stepsHtml += `<div class="formula">R<sub>total</sub> = ${seriesFormatted.value} ${seriesFormatted.unit}</div>`;
            stepsHtml += '</div>';
            
            stepsHtml += '<h4 style="margin-top: 30px;">âš¡ Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î Î±ÏÎ±Î»Î»Î®Î»Ï‰Î½:</h4>';
            
            stepsHtml += '<div class="step">';
            stepsHtml += '<strong>Î’Î®Î¼Î± 1:</strong> Î•Ï†Î±ÏÎ¼ÏŒÎ¶Î¿Ï…Î¼Îµ Ï„Î¿Î½ Ï„ÏÏ€Î¿ Ï€Î±ÏÎ±Î»Î»Î®Î»Ï‰Î½<br>';
            stepsHtml += '<div class="formula">';
            stepsHtml += '<span class="fraction"><span class="numerator">1</span><span class="denominator">R<sub>total</sub></span></span> = ';
            stepsHtml += '<span class="fraction"><span class="numerator">1</span><span class="denominator">Râ‚</span></span> + ';
            stepsHtml += '<span class="fraction"><span class="numerator">1</span><span class="denominator">Râ‚‚</span></span> + ...';
            stepsHtml += '</div>';
            stepsHtml += '</div>';
            
            stepsHtml += '<div class="step">';
            stepsHtml += '<strong>Î’Î®Î¼Î± 2:</strong> Î‘Î½Ï„Î¹ÎºÎ±Î¸Î¹ÏƒÏ„Î¿ÏÎ¼Îµ Ï„Î¹Ï‚ Ï„Î¹Î¼Î­Ï‚<br>';
            stepsHtml += '<div class="formula">';
            stepsHtml += '<span class="fraction"><span class="numerator">1</span><span class="denominator">R<sub>total</sub></span></span> = ';
            resistors.forEach((r, i) => {
                const formatted = formatResistanceDetailed(r);
                stepsHtml += `<span class="fraction"><span class="numerator">1</span><span class="denominator">${formatted.value}${formatted.unit}</span></span>`;
                if (i < resistors.length - 1) stepsHtml += ' + ';
            });
            stepsHtml += '</div>';
            stepsHtml += '</div>';
            
            stepsHtml += '<div class="step">';
            stepsHtml += '<strong>Î’Î®Î¼Î± 3:</strong> Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶Î¿Ï…Î¼Îµ Ï„Î± ÎºÎ»Î¬ÏƒÎ¼Î±Ï„Î±<br>';
            stepsHtml += '<div class="formula">';
            stepsHtml += '<span class="fraction"><span class="numerator">1</span><span class="denominator">R<sub>total</sub></span></span> = ';
            resistors.forEach((r, i) => {
                stepsHtml += `${(1/r).toFixed(8)}`;
                if (i < resistors.length - 1) stepsHtml += ' + ';
            });
            stepsHtml += ` = ${(1/parallel).toFixed(8)}`;
            stepsHtml += '</div>';
            stepsHtml += '</div>';
            
            stepsHtml += '<div class="step">';
            stepsHtml += '<strong>Î’Î®Î¼Î± 4:</strong> Î’ÏÎ¯ÏƒÎºÎ¿Ï…Î¼Îµ Ï„Î¿ R<sub>total</sub><br>';
            const parallelFormatted = formatResistanceDetailed(parallel);
            stepsHtml += `<div class="formula">R<sub>total</sub> = <span class="fraction"><span class="numerator">1</span><span class="denominator">${(1/parallel).toFixed(8)}</span></span> = ${parallelFormatted.value} ${parallelFormatted.unit}</div>`;
            stepsHtml += '</div>';
            
            document.getElementById('steps-content').innerHTML = stepsHtml;
            document.getElementById('calculation-steps').style.display = 'block';
        }

        // Calculate power consumption
        function calculatePower(resistance, voltage) {
            return (voltage * voltage) / resistance;
        }

        // Format resistance value with more decimal places
        function formatResistanceDetailed(resistance) {
            if (resistance >= 1000000) {
                return { value: (resistance / 1000000).toFixed(6), unit: 'MÎ©' };
            } else if (resistance >= 1000) {
                return { value: (resistance / 1000).toFixed(6), unit: 'kÎ©' };
            } else {
                return { value: resistance.toFixed(6), unit: 'Î©' };
            }
        }

        // Format resistance value with appropriate unit
        function formatResistance(resistance) {
            if (resistance >= 1000000) {
                return { value: (resistance / 1000000).toFixed(2), unit: 'MÎ©' };
            } else if (resistance >= 1000) {
                return { value: (resistance / 1000).toFixed(2), unit: 'kÎ©' };
            } else {
                return { value: resistance.toFixed(2), unit: 'Î©' };
            }
        }

        // Update resistance chart with horizontal labels
        function updateResistanceChart(series, parallel) {
            const chartElement = document.getElementById('resistance-chart');
            const maxValue = Math.max(series, parallel, ...resistors);
            
            let html = '<div style="display: flex; justify-content: space-around; align-items: end; height: 250px; padding: 40px 20px 40px 20px; position: relative;">';
            
            // Individual resistors
            resistors.forEach((resistor, index) => {
                const height = (resistor / maxValue) * 180;
                const formatted = formatResistance(resistor);
                html += `
                    <div style="position: relative; display: flex; flex-direction: column; align-items: center;">
                        <div class="bar" style="width: 50px; height: ${height}px; background: #6c757d; position: relative;">
                            <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; color: var(--text-primary); white-space: nowrap;">
                                ${formatted.value}${formatted.unit}
                            </div>
                        </div>
                        <div class="bar-label">R${index + 1}</div>
                    </div>
                `;
            });
            
            // Series result
            const seriesHeight = (series / maxValue) * 180;
            const seriesFormatted = formatResistance(series);
            html += `
                <div style="position: relative; display: flex; flex-direction: column; align-items: center;">
                    <div class="bar" style="width: 60px; height: ${seriesHeight}px; background: #dc3545; position: relative;">
                        <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; color: var(--text-primary); white-space: nowrap;">
                            ${seriesFormatted.value}${seriesFormatted.unit}
                        </div>
                    </div>
                    <div class="bar-label">Î£ÎµÎ¹ÏÎ¬</div>
                </div>
            `;
            
            // Parallel result
            const parallelHeight = (parallel / maxValue) * 180;
            const parallelFormatted = formatResistance(parallel);
            html += `
                <div style="position: relative; display: flex; flex-direction: column; align-items: center;">
                    <div class="bar" style="width: 60px; height: ${parallelHeight}px; background: #28a745; position: relative;">
                        <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; color: var(--text-primary); white-space: nowrap;">
                            ${parallelFormatted.value}${parallelFormatted.unit}
                        </div>
                    </div>
                    <div class="bar-label">Î Î±ÏÎ¬Î»Î»Î·Î»Î±</div>
                </div>
            `;
            
            html += '</div>';
            chartElement.innerHTML = html;
        }

        // Color code calculator functions
        function updateBandCount() {
            currentBandCount = parseInt(document.getElementById('band-count').value);
            selectedBands = {};
            createColorBands();
        }

        function createColorBands() {
            const bandsContainer = document.getElementById('color-bands');
            let html = '';
            
            for (let i = 0; i < currentBandCount; i++) {
                const bandClass = getBandClass(i);
                html += `
                    <div class="band ${selectedBands[i] || 'black'}" id="band-${i}" onclick="selectBandColor(${i})">
                        ${getBandLabel(i)}
                    </div>
                `;
            }
            
            bandsContainer.innerHTML = html;
        }

        function getBandClass(bandIndex) {
            if (currentBandCount === 4) {
                return ['digit', 'digit', 'multiplier', 'tolerance'][bandIndex];
            } else if (currentBandCount === 5) {
                return ['digit', 'digit', 'digit', 'multiplier', 'tolerance'][bandIndex];
            } else {
                return ['digit', 'digit', 'digit', 'multiplier', 'tolerance', 'temperature'][bandIndex];
            }
        }

        function getBandLabel(bandIndex) {
            const labels = {
                4: ['1Î·', '2Î·', 'Ã—', 'Â±'],
                5: ['1Î·', '2Î·', '3Î·', 'Ã—', 'Â±'],
                6: ['1Î·', '2Î·', '3Î·', 'Ã—', 'Â±', 'T']
            };
            return labels[currentBandCount][bandIndex];
        }

        function selectBandColor(bandIndex) {
            const availableColors = getAvailableColors(bandIndex);
            let html = '<h3>Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Î§ÏÏÎ¼Î±:</h3><div class="color-selector">';
            
            availableColors.forEach(color => {
                html += `
                    <div class="color-option ${color}" onclick="setBandColor(${bandIndex}, '${color}')">
                        ${colorNames[color]}
                    </div>
                `;
            });
            
            html += '</div>';
            
            if (!document.getElementById('color-selector-modal')) {
                const modal = document.createElement('div');
                modal.id = 'color-selector-modal';
                modal.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: var(--bg-secondary);
                    padding: 20px;
                    border-radius: 10px;
                    box-shadow: 0 10px 30px var(--shadow);
                    z-index: 1000;
                    max-width: 500px;
                    width: 90%;
                `;
                document.body.appendChild(modal);
                
                const backdrop = document.createElement('div');
                backdrop.id = 'modal-backdrop';
                backdrop.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.5);
                    z-index: 999;
                `;
                backdrop.onclick = closeColorSelector;
                document.body.appendChild(backdrop);
            }
            
            document.getElementById('color-selector-modal').innerHTML = html + 
                '<button class="btn btn-secondary" onclick="closeColorSelector()" style="margin-top: 15px;">ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿</button>';
        }

        function getAvailableColors(bandIndex) {
            const bandType = getBandClass(bandIndex);
            
            if (bandType === 'digit') {
                return ['black', 'brown', 'red', 'orange', 'yellow', 'green', 'blue', 'violet', 'grey', 'white'];
            } else if (bandType === 'multiplier') {
                return ['black', 'brown', 'red', 'orange', 'yellow', 'green', 'blue', 'violet', 'grey', 'white', 'gold', 'silver'];
            } else if (bandType === 'tolerance') {
                return ['brown', 'red', 'green', 'blue', 'violet', 'grey', 'gold', 'silver'];
            } else {
                return ['brown', 'red', 'orange', 'yellow', 'blue', 'violet'];
            }
        }

        function setBandColor(bandIndex, color) {
            selectedBands[bandIndex] = color;
            document.getElementById(`band-${bandIndex}`).className = `band ${color}`;
            closeColorSelector();
            calculateColorCode();
        }

        function closeColorSelector() {
            const modal = document.getElementById('color-selector-modal');
            const backdrop = document.getElementById('modal-backdrop');
            if (modal) modal.remove();
            if (backdrop) backdrop.remove();
        }

        function calculateColorCode() {
            if (Object.keys(selectedBands).length < currentBandCount) {
                document.getElementById('color-result').style.display = 'none';
                return;
            }
            
            let resistance = 0;
            let tolerance = 5;
            let tempCoeff = null;
            
            if (currentBandCount === 4) {
                const digit1 = colorCodes[selectedBands[0]].value;
                const digit2 = colorCodes[selectedBands[1]].value;
                const multiplier = colorCodes[selectedBands[2]].multiplier;
                tolerance = colorCodes[selectedBands[3]].tolerance || 5;
                
                resistance = (digit1 * 10 + digit2) * multiplier;
            } else if (currentBandCount === 5) {
                const digit1 = colorCodes[selectedBands[0]].value;
                const digit2 = colorCodes[selectedBands[1]].value;
                const digit3 = colorCodes[selectedBands[2]].value;
                const multiplier = colorCodes[selectedBands[3]].multiplier;
                tolerance = colorCodes[selectedBands[4]].tolerance || 5;
                
                resistance = (digit1 * 100 + digit2 * 10 + digit3) * multiplier;
            } else {
                const digit1 = colorCodes[selectedBands[0]].value;
                const digit2 = colorCodes[selectedBands[1]].value;
                const digit3 = colorCodes[selectedBands[2]].value;
                const multiplier = colorCodes[selectedBands[3]].multiplier;
                tolerance = colorCodes[selectedBands[4]].tolerance || 5;
                tempCoeff = getTempCoefficient(selectedBands[5]);
                
                resistance = (digit1 * 100 + digit2 * 10 + digit3) * multiplier;
            }
            
            displayColorCodeResult(resistance, tolerance, tempCoeff);
            updateToleranceChart(resistance, tolerance);
        }

        function getTempCoefficient(color) {
            const tempCoeffs = {
                'brown': 100,
                'red': 50,
                'orange': 15,
                'yellow': 25,
                'blue': 10,
                'violet': 5
            };
            return tempCoeffs[color] || null;
        }

        function displayColorCodeResult(resistance, tolerance, tempCoeff) {
            const formatted = formatResistanceDetailed(resistance);
            const toleranceValue = (resistance * tolerance / 100);
            const minValue = formatResistanceDetailed(resistance - toleranceValue);
            const maxValue = formatResistanceDetailed(resistance + toleranceValue);
            
            let html = `
                <div style="text-align: center; margin-bottom: 20px;">
                    <div class="formula" style="font-size: 24px; color: var(--success);">
                        ${formatted.value} ${formatted.unit} Â± ${tolerance}%
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div>
                        <h4>ğŸ“Š ÎŸÎ½Î¿Î¼Î±ÏƒÏ„Î¹ÎºÎ® Î¤Î¹Î¼Î®:</h4>
                        <p>${formatted.value} ${formatted.unit}</p>
                                        </div>
                    <div>
                        <h4>ğŸ“‰ Î•Î»Î¬Ï‡Î¹ÏƒÏ„Î· Î¤Î¹Î¼Î®:</h4>
                        <p>${minValue.value} ${minValue.unit}</p>
                    </div>
                    <div>
                        <h4>ğŸ“ˆ ÎœÎ­Î³Î¹ÏƒÏ„Î· Î¤Î¹Î¼Î®:</h4>
                        <p>${maxValue.value} ${maxValue.unit}</p>
                    </div>
                </div>
            `;
            
            if (tempCoeff) {
                html += `
                    <div style="margin-top: 15px; padding: 10px; background: var(--bg-primary); border-radius: 8px;">
                        <h4>ğŸŒ¡ï¸ Î£Ï…Î½Ï„ÎµÎ»ÎµÏƒÏ„Î®Ï‚ Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î±Ï‚:</h4>
                        <p>${tempCoeff} ppm/Â°C</p>
                    </div>
                `;
            }
            
            document.getElementById('color-result-content').innerHTML = html;
            document.getElementById('color-result').style.display = 'block';
        }

        function updateToleranceChart(resistance, tolerance) {
            const chartElement = document.getElementById('tolerance-chart');
            const toleranceValue = resistance * tolerance / 100;
            const minValue = resistance - toleranceValue;
            const maxValue = resistance + toleranceValue;
            
            const html = `
                <div style="display: flex; justify-content: space-around; align-items: end; height: 200px; padding: 40px 20px 40px 20px; position: relative;">
                    <div style="position: relative; display: flex; flex-direction: column; align-items: center;">
                        <div class="bar" style="width: 80px; height: 120px; background: #dc3545; position: relative;">
                            <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; color: var(--text-primary); white-space: nowrap;">
                                ${formatResistance(minValue).value}${formatResistance(minValue).unit}
                            </div>
                        </div>
                        <div class="bar-label">Î•Î»Î¬Ï‡Î¹ÏƒÏ„Î·</div>
                    </div>
                    <div style="position: relative; display: flex; flex-direction: column; align-items: center;">
                        <div class="bar" style="width: 80px; height: 160px; background: var(--accent); position: relative;">
                            <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; color: var(--text-primary); white-space: nowrap;">
                                ${formatResistance(resistance).value}${formatResistance(resistance).unit}
                            </div>
                        </div>
                        <div class="bar-label">ÎŸÎ½Î¿Î¼Î±ÏƒÏ„Î¹ÎºÎ®</div>
                    </div>
                    <div style="position: relative; display: flex; flex-direction: column; align-items: center;">
                        <div class="bar" style="width: 80px; height: 120px; background: #28a745; position: relative;">
                            <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; color: var(--text-primary); white-space: nowrap;">
                                ${formatResistance(maxValue).value}${formatResistance(maxValue).unit}
                            </div>
                        </div>
                        <div class="bar-label">ÎœÎ­Î³Î¹ÏƒÏ„Î·</div>
                    </div>
                </div>
            `;
            
            chartElement.innerHTML = html;
        }

        // Initialize charts for examples and theory
        // Î‘Î½Ï„Î¹ÎºÎ±Ï„Î±ÏƒÏ„Î®ÏƒÏ„Îµ Ï„Î·Î½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…ÏƒÎ± ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ· initializeExampleCharts Î¼Îµ Î±Ï…Ï„Î®:
function initializeExampleCharts() {
    // Comparison chart - Î ÎµÏÎ¹Î¼Î­Î½Î¿Ï…Î¼Îµ Ï„Î¿ element Î½Î± ÎµÎ¯Î½Î±Î¹ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿
    setTimeout(() => {
        const comparisonChart = document.getElementById('comparison-chart');
        if (comparisonChart) {
            const html = `
                <div style="display: flex; justify-content: space-around; align-items: end; height: 200px; padding: 40px 20px 40px 20px; position: relative;">
                    <div style="position: relative; display: flex; flex-direction: column; align-items: center;">
                        <div class="bar" style="width: 80px; height: 60px; background: #28a745; position: relative;">
                            <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; color: var(--text-primary); white-space: nowrap;">
                                66.67Î©
                            </div>
                        </div>
                        <div class="bar-label">Î Î±ÏÎ¬Î»Î»Î·Î»Î±</div>
                    </div>
                    <div style="position: relative; display: flex; flex-direction: column; align-items: center;">
                        <div class="bar" style="width: 80px; height: 100px; background: #6c757d; position: relative;">
                            <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; color: var(--text-primary); white-space: nowrap;">
                                100Î©
                            </div>
                        </div>
                        <div class="bar-label">Râ‚</div>
                    </div>
                    <div style="position: relative; display: flex; flex-direction: column; align-items: center;">
                        <div class="bar" style="width: 80px; height: 140px; background: #6c757d; position: relative;">
                            <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; color: var(--text-primary); white-space: nowrap;">
                                200Î©
                            </div>
                        </div>
                        <div class="bar-label">Râ‚‚</div>
                    </div>
                    <div style="position: relative; display: flex; flex-direction: column; align-items: center;">
                        <div class="bar" style="width: 80px; height: 180px; background: #dc3545; position: relative;">
                            <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; color: var(--text-primary); white-space: nowrap;">
                                300Î©
                            </div>
                        </div>
                        <div class="bar-label">Î£ÎµÎ¹ÏÎ¬</div>
                    </div>
                </div>
            `;
            comparisonChart.innerHTML = html;
        }
    }, 100);
    
    // Behavior chart - Î ÎµÏÎ¹Î¼Î­Î½Î¿Ï…Î¼Îµ Ï„Î¿ element Î½Î± ÎµÎ¯Î½Î±Î¹ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿
    setTimeout(() => {
        const behaviorChart = document.getElementById('behavior-chart');
        if (behaviorChart) {
            const html = `
                <div style="display: flex; justify-content: space-around; align-items: end; height: 200px; padding: 40px 20px 40px 20px; position: relative;">
                    <div style="position: relative; display: flex; flex-direction: column; align-items: center;">
                        <div class="bar" style="width: 100px; height: 180px; background: #dc3545; position: relative;">
                            <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 12px; color: var(--text-primary); white-space: nowrap;">
                                Î‘ÏÎ¾Î·ÏƒÎ· R
                            </div>
                        </div>
                        <div class="bar-label">Î£ÎµÎ¹ÏÎ¬<br><small>ÎœÎµÎ³Î±Î»ÏÏ„ÎµÏÎ· Î‘Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ·</small></div>
                    </div>
                    <div style="position: relative; display: flex; flex-direction: column; align-items: center;">
                        <div class="bar" style="width: 100px; height: 80px; background: #28a745; position: relative;">
                            <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 12px; color: var(--text-primary); white-space: nowrap;">
                                ÎœÎµÎ¯Ï‰ÏƒÎ· R
                            </div>
                        </div>
                        <div class="bar-label">Î Î±ÏÎ¬Î»Î»Î·Î»Î±<br><small>ÎœÎ¹ÎºÏÏŒÏ„ÎµÏÎ· Î‘Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ·</small></div>
                    </div>
                </div>
            `;
            behaviorChart.innerHTML = html;
        }
    }, 100);
}

// Î•Ï€Î¯ÏƒÎ·Ï‚, Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ Î±Ï…Ï„Î® Ï„Î· ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ· Î³Î¹Î± Î½Î± Î´Î¹Î¿ÏÎ¸ÏÏƒÎµÏ„Îµ Ï„Î¿ tolerance chart:
function initializeToleranceChart() {
    // Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¿ÏÎ¼Îµ Î­Î½Î± Ï€Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Î³ÏÎ±Ï†Î®Î¼Î±Ï„Î¿Ï‚ Î±Î½Î¿Ï‡Î®Ï‚
    setTimeout(() => {
        const toleranceChart = document.getElementById('tolerance-chart');
        if (toleranceChart && toleranceChart.innerHTML === '') {
            // Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Î¼Îµ 220Î© Â± 5%
            const resistance = 220;
            const tolerance = 5;
            const toleranceValue = resistance * tolerance / 100;
            const minValue = resistance - toleranceValue;
            const maxValue = resistance + toleranceValue;
            
            const html = `
                <div style="display: flex; justify-content: space-around; align-items: end; height: 200px; padding: 40px 20px 40px 20px; position: relative;">
                    <div style="position: relative; display: flex; flex-direction: column; align-items: center;">
                        <div class="bar" style="width: 80px; height: 120px; background: #dc3545; position: relative;">
                            <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; color: var(--text-primary); white-space: nowrap;">
                                ${minValue.toFixed(1)}Î©
                            </div>
                        </div>
                        <div class="bar-label">Î•Î»Î¬Ï‡Î¹ÏƒÏ„Î·<br><small>-${tolerance}%</small></div>
                    </div>
                    <div style="position: relative; display: flex; flex-direction: column; align-items: center;">
                        <div class="bar" style="width: 80px; height: 160px; background: var(--accent); position: relative;">
                            <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; color: var(--text-primary); white-space: nowrap;">
                                ${resistance}Î©
                            </div>
                        </div>
                        <div class="bar-label">ÎŸÎ½Î¿Î¼Î±ÏƒÏ„Î¹ÎºÎ®<br><small>Î’Î¬ÏƒÎ·</small></div>
                    </div>
                    <div style="position: relative; display: flex; flex-direction: column; align-items: center;">
                        <div class="bar" style="width: 80px; height: 120px; background: #28a745; position: relative;">
                            <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; color: var(--text-primary); white-space: nowrap;">
                                ${maxValue.toFixed(1)}Î©
                            </div>
                        </div>
                        <div class="bar-label">ÎœÎ­Î³Î¹ÏƒÏ„Î·<br><small>+${tolerance}%</small></div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 15px; padding: 10px; background: var(--bg-tertiary); border-radius: 8px;">
                    <p><strong>Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±:</strong> Î‘Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ· 220Î© Î¼Îµ Î±Î½Î¿Ï‡Î® Â±5%</p>
                    <p>Î•ÏÏÎ¿Ï‚: ${minValue.toFixed(1)}Î© - ${maxValue.toFixed(1)}Î©</p>
                </div>
            `;
            toleranceChart.innerHTML = html;
        }
    }, 200);
}


        // Initialize the application
      function init() {
    loadTheme();
    createColorBands();
    initializeExampleCharts();
    initializeToleranceChart(); // Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î±Ï…Ï„Î®Ï‚ Ï„Î·Ï‚ Î³ÏÎ±Î¼Î¼Î®Ï‚
    
    // Add some example resistors for demonstration
    setTimeout(() => {
        resistors = [100, 220, 330];
        updateResistorList();
        calculateResistance();
    }, 1000);
}

        // Start the application when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
