<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î®Ï‚ ÎšÎ­ÏÎ´Î¿Ï…Ï‚ ÎšÎ¹Ï„</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f4f4f4; }
    h2 { color: #333; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; background: #fff; }
    th, td { padding: 10px; border: 1px solid #ccc; text-align: left; }
    input[type="number"] { width: 100px; }
    button { padding: 8px 12px; margin-top: 10px; }
    .result { margin-top: 20px; font-size: 18px; }
  </style>
</head>
<body>
  <h2>Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î®Ï‚ ÎšÎ­ÏÎ´Î¿Ï…Ï‚ Î‘Î½Î¬ ÎšÎ¹Ï„</h2>
  <table id="itemsTable">
    <thead>
      <tr>
        <th>Î ÎµÏÎ¹Î³ÏÎ±Ï†Î®</th>
        <th>Î¤Î¹Î¼Î® Î Î±ÏÏ„Î¯Î´Î±Ï‚ (â‚¬)</th>
        <th>Î Î¿ÏƒÏŒÏ„Î·Ï„Î± Î Î±ÏÏ„Î¯Î´Î±Ï‚</th>
        <th>Î§ÏÎ®ÏƒÎ· Î‘Î½Î¬ ÎšÎ¹Ï„</th>
        <th>ÎšÏŒÏƒÏ„Î¿Ï‚ Î‘Î½Î¬ ÎšÎ¹Ï„ (â‚¬)</th>
        <th>Î”Î¹Î±Î³ÏÎ±Ï†Î®</th>
      </tr>
    </thead>
    <tbody id="itemsBody">
    </tbody>
  </table>

  <button onclick="addItem()">â• Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î•Î¯Î´Î¿Ï…Ï‚</button>

  <div style="margin-top: 20px;">
    <label>Î¤Î¹Î¼Î® Î ÏÎ»Î·ÏƒÎ·Ï‚ ÎšÎ¹Ï„ (â‚¬): <input type="number" id="sellPrice" value="15" step="0.01"></label>
    <button onclick="calculateProfit()">Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ ÎšÎ­ÏÎ´Î¿Ï…Ï‚</button>
  </div>

  <div class="result" id="results"></div>

  <script>
    function addItem(description = '', batchPrice = 0, batchQty = 1, usedPerKit = 1) {
      const tbody = document.getElementById("itemsBody");
      const row = document.createElement("tr");
      row.innerHTML = `
        <td><input type="text" value="${description}"/></td>
        <td><input type="number" value="${batchPrice}" step="0.01"/></td>
        <td><input type="number" value="${batchQty}" step="1"/></td>
        <td><input type="number" value="${usedPerKit}" step="1"/></td>
        <td class="costPerKit">0.00</td>
        <td><button onclick="this.parentElement.parentElement.remove()">ğŸ—‘ï¸</button></td>
      `;
      tbody.appendChild(row);
    }

    function calculateProfit() {
      let totalCost = 0;
      const rows = document.querySelectorAll("#itemsBody tr");

      rows.forEach(row => {
        const cells = row.querySelectorAll("input");
        const batchPrice = parseFloat(cells[1].value);
        const batchQty = parseFloat(cells[2].value);
        const usedPerKit = parseFloat(cells[3].value);

        const unitPrice = batchPrice / batchQty;
        const costPerKit = unitPrice * usedPerKit;
        row.querySelector(".costPerKit").textContent = costPerKit.toFixed(2);
        totalCost += costPerKit;
      });

      const sellPrice = parseFloat(document.getElementById("sellPrice").value);
      const profit = sellPrice - totalCost;
      const marginOnCost = (profit / totalCost) * 100;
      const marginOnSell = (profit / sellPrice) * 100;

      document.getElementById("results").innerHTML = `
        <strong>Î£ÏÎ½Î¿Î»Î¿ ÎšÏŒÏƒÏ„Î¿Ï…Ï‚ Î‘Î½Î¬ ÎšÎ¹Ï„:</strong> â‚¬${totalCost.toFixed(2)}<br>
        <strong>ÎšÎ±Î¸Î±ÏÏŒ ÎšÎ­ÏÎ´Î¿Ï‚:</strong> â‚¬${profit.toFixed(2)}<br>
        <strong>Î Î¿ÏƒÎ¿ÏƒÏ„ÏŒ ÎšÎ­ÏÎ´Î¿Ï…Ï‚ ÎµÏ€Î¯ ÎšÏŒÏƒÏ„Î¿Ï…Ï‚:</strong> ${marginOnCost.toFixed(2)}%<br>
        <strong>Î Î¿ÏƒÎ¿ÏƒÏ„ÏŒ ÎšÎ­ÏÎ´Î¿Ï…Ï‚ ÎµÏ€Î¯ Î ÏÎ»Î·ÏƒÎ·Ï‚:</strong> ${marginOnSell.toFixed(2)}%
      `;
    }

    // Î ÏÎ¿ÏƒÎ¸Î­Ï„Î¿Ï…Î¼Îµ Ï„Î± Ï€ÏÎ¿ÎºÎ±Î¸Î¿ÏÎ¹ÏƒÎ¼Î­Î½Î± ÎµÎ¯Î´Î·
    addItem("Î ÏÎ¯Î¶Î± Î±Ï…Ï„Î¿ÎºÎ¹Î½Î®Ï„Î¿Ï…", 12, 15, 1);
    addItem("ÎšÎ±Î»ÏÎ´Î¹Î¿ 5.5x2.1 (1Î¼)", 0.5, 1, 1);
    addItem("Î Ï…ÎºÎ½Ï‰Ï„Î®Ï‚ 220Î¼F 25V", 1.8, 20, 1);
    addItem("Î Ï…ÎºÎ½Ï‰Ï„Î®Ï‚ 100nF", 1.59, 100, 1);
    addItem("Î‘Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ· 680k", 1.91, 100, 1);
    addItem("PCB Board", 3.5, 1, 1);
    addItem("3D Printed Case", 0.5, 1, 1);
  </script>
</body>
</html>
